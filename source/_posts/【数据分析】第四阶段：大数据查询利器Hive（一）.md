---
title: 【数据分析】第四阶段：大数据查询利器Hive（一）
date: 2021-05-27 20:28:37
tags:
- 数据分析
categories:
- 学习笔记
description: 了解大数据、hadoop
---

excel一个工作表可以存住104万条记录。

mysql单点可以存储4000多万条记录。

# 大数据的来源

## 内部数据

### 前端

js，埋点

### 后端

日志、接口

## 外部数据

爬虫、搜索引擎

# 埋点

## 分类

前端（客户端）

- 代码埋点
- 可视化埋点
- 无买点（全埋点）

后端

- 服务端埋点

## 埋点方式

注入代码

第三方统计工具

## 数据来源

页面埋点

事件埋点

## 埋点工作流程

![](https://gitee.com/ethan-H/imghost/raw/master/blog/Xnip2021-05-27_22-53-22.jpg)

## 事件设计、属性设计

![](https://gitee.com/ethan-H/imghost/raw/master/blog/Xnip2021-05-27_22-55-33.jpg) ![](https://gitee.com/ethan-H/imghost/raw/master/blog/Xnip2021-05-27_22-55-05.jpg)

## 埋点文档

| 要素       | 备注                                                         |
| :--------- | :----------------------------------------------------------- |
| 事件名称   | 埋点的事件名称，如优惠卷领取/优惠卷使用                      |
| 事件定 义  | 用户点击领取优惠卷，则上报该事件                             |
| 包含属性   | 用户进行了该行为，上报事件中需要传输那些内容，如用户ID、时间、应用版本、网络环 境、手机型号、IP、内容ID等;如某些属性在所有事件中都需要上传，则可以整理公共属 性进行管理; |
| 属性定义   | 说明属性的定义，如用户地址: 用用户主动上传的地址，如没有则用用户IP代替 |
| 属性值类型 | 说明传输属性的类型，字符串、数值、bool                       |
| 开发名称   | 对应的开发变量名，可以由开发进行补充。如userID、contentID;   |
| 当前状态   | 明当前该变量的状态。如待开发、开发中、验收中、已上线、已下线 |
| 上线版本   | 说明该内容在那个版本进行上线。如2.3.1                        |
| 备注       | 备注中可记录该属性的变动情况和常见值等内容                   |

# 数据仓库

数据仓库（Data Warehouse）DW，是一个很大的数据存储集合。出于企业的分析性报告和决策支持目的而创建，对多样的业务数据进行筛选与整合。

数据仓库解决三个问题：

- 存储
- 快速提取：分布式
- 跨部门应用：不同的部门进行不同的应用，报表展示、数据挖掘、数据分析...

# 数据仓库特点

- 面向主题

  传统数据库面向应用组织数据。一个业务系统管理一部分企业数据，多个业务系统之间是相互分离的。

  而数据仓库是面向主题的，他把多个业务的数据整合，所以能面向主题。

- 集成

  集成是指数据仓库中，数据必须是一致的。数据仓库中的数据，是从多个分散的数据仓库、数据文件、或是日志中抽取出来的，数据来源可能既有内部数据又有外部数据，通过ETL转码编辑，通过数据集成形成数据仓库的数据。

- 稳定（不易失）

  数据进入数据仓库后，会较长时间的保留，且极少更新。

- 时变（反映历史变化）

# 数据仓库与数据库的区别

数据库（OLTP）和数据仓库（OLAP）

数据仓库的出现并不是要取代数据库

![](https://gitee.com/ethan-H/imghost/raw/master/blog/Xnip2021-05-27_23-37-20.jpg)

# 数据仓库主流架构

分层架构

# 数据仓库元数据

元数据和源数据

![](https://gitee.com/ethan-H/imghost/raw/master/blog/Xnip2021-05-27_23-43-50.jpg)

# 数据治理

脏数据种类：

- 数据缺失
- 数据重复
- 数据错误
- 数据不可用

治理原则：

- 约束输入
- 规范输出

# Hadoop

一个开源的分布式计算平台。

# Hadoop生态圈

核心组件是HDFS（分布式存储）和MapReduce（分布式计算）

![](https://gitee.com/ethan-H/imghost/raw/master/blog/Xnip2021-05-27_23-51-09.jpg) ![](https://gitee.com/ethan-H/imghost/raw/master/blog/Xnip2021-05-27_23-51-28.jpg)

