<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">

<script class="next-config" data-name="main" type="application/json">{&quot;hostname&quot;:&quot;yu-sen.github.io&quot;,&quot;root&quot;:&quot;&#x2F;&quot;,&quot;images&quot;:&quot;&#x2F;images&quot;,&quot;scheme&quot;:&quot;Mist&quot;,&quot;version&quot;:&quot;8.4.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;left&quot;,&quot;display&quot;:&quot;post&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12},&quot;copycode&quot;:false,&quot;bookmark&quot;:{&quot;enable&quot;:false,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;auto&quot;},&quot;fancybox&quot;:true,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:false,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;搜索...&quot;,&quot;empty&quot;:&quot;没有找到任何搜索结果：${query}&quot;,&quot;hits_time&quot;:&quot;找到 ${hits} 个搜索结果（用时 ${time} 毫秒）&quot;,&quot;hits&quot;:&quot;找到 ${hits} 个搜索结果&quot;}}</script>
<meta name="description" content="本模块基于Numpy实现科学计算，通过Numpy生成ndarray、索引和切片，对数组进行面向数组编程。">
<meta property="og:type" content="article">
<meta property="og:title" content="【数据分析】第五阶段：python（三）数值高效计算（Numpy科学计算库）">
<meta property="og:url" content="https://yu-sen.github.io/20210624000520/index.html">
<meta property="og:site_name" content="昱森笔记">
<meta property="og:description" content="本模块基于Numpy实现科学计算，通过Numpy生成ndarray、索引和切片，对数组进行面向数组编程。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWM0LnpoaW1nLmNvbS84MC92Mi03NmI3MjdhZWRmNzU2ZDAzYzg1NGYzYjA0NTM0NWMyM183MjB3LmpwZw?x-oss-process=image/format,png">
<meta property="og:image" content="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMzLnpoaW1nLmNvbS84MC92Mi01YzhhYWQ0MGY3NGEzYWRlZTcyZjhmN2ZiNWJlODlhNl83MjB3LmpwZw?x-oss-process=image/format,png">
<meta property="og:image" content="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMzLnpoaW1nLmNvbS84MC92Mi03YTA3MTYyMzBhNmYzZDQ4NDBhNjA5ODAwMWIxZDJhMl83MjB3LmpwZw?x-oss-process=image/format,png">
<meta property="og:image" content="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMzLnpoaW1nLmNvbS84MC92Mi0yMDM2YmVhYmMxYzdlN2Q1ZGM4NDM3YTQ3NTc2NjA1Ml83MjB3LmpwZw?x-oss-process=image/format,png">
<meta property="og:image" content="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMzLnpoaW1nLmNvbS84MC92Mi1mNzdhNDMxN2UxZmU2ZjEzOTcxOGFjYjdjODBhM2U4Nl83MjB3LmpwZw?x-oss-process=image/format,png">
<meta property="og:image" content="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMyLnpoaW1nLmNvbS84MC92Mi00YjMwM2Q0YzM3NWVkMzVmMmUzYTMzNjI4N2IwOTgwZF83MjB3LmpwZw?x-oss-process=image/format,png">
<meta property="og:image" content="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMxLnpoaW1nLmNvbS84MC92Mi02YWIyZTAzNTFhMmE4NDIwNGJlNzlhY2ZlN2MzOTlkOF83MjB3LmpwZw?x-oss-process=image/format,png">
<meta property="og:image" content="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWM0LnpoaW1nLmNvbS84MC92Mi1iZTA5NDQyYjZhZDg3Zjk2OTMyNDEyYzViOGFiNmZlM183MjB3LmpwZw?x-oss-process=image/format,png">
<meta property="og:image" content="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMyLnpoaW1nLmNvbS84MC92Mi00YjMwM2Q0YzM3NWVkMzVmMmUzYTMzNjI4N2IwOTgwZF83MjB3LmpwZw?x-oss-process=image/format,png">
<meta property="article:published_time" content="2021-06-23T16:05:20.000Z">
<meta property="article:modified_time" content="2021-06-27T09:14:31.011Z">
<meta property="article:author" content="昱森">
<meta property="article:tag" content="数据分析">
<meta property="article:tag" content="python">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWM0LnpoaW1nLmNvbS84MC92Mi03NmI3MjdhZWRmNzU2ZDAzYzg1NGYzYjA0NTM0NWMyM183MjB3LmpwZw?x-oss-process=image/format,png">


<link rel="canonical" href="https://yu-sen.github.io/20210624000520/">



<script class="next-config" data-name="page" type="application/json">{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:false,&quot;isPost&quot;:true,&quot;lang&quot;:&quot;zh-CN&quot;,&quot;comments&quot;:true,&quot;permalink&quot;:&quot;https:&#x2F;&#x2F;yu-sen.github.io&#x2F;20210624000520&#x2F;&quot;,&quot;path&quot;:&quot;20210624000520&#x2F;&quot;,&quot;title&quot;:&quot;【数据分析】第五阶段：python（三）数值高效计算（Numpy科学计算库）&quot;}</script>

<script class="next-config" data-name="calendar" type="application/json">&quot;&quot;</script>
<title>【数据分析】第五阶段：python（三）数值高效计算（Numpy科学计算库） | 昱森笔记</title><script src="/js/config.js"></script>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">昱森笔记</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li>
        <li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li>
        <li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
        <li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Numpy%E5%9F%BA%E7%A1%80"><span class="nav-number">1.</span> <span class="nav-text">Numpy基础</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Numpy%E4%BB%8B%E7%BB%8D%E5%92%8C%E5%AE%89%E8%A3%85"><span class="nav-number">1.1.</span> <span class="nav-text">Numpy介绍和安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jupyter%E6%93%8D%E4%BD%9C%E3%80%81numpy%E5%88%9B%E5%BB%BA%E6%95%B0%E7%BB%84"><span class="nav-number">1.2.</span> <span class="nav-text">jupyter操作、numpy创建数组</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#jupyter%E6%8F%92%E4%BB%B6%E3%80%81numpy%E6%95%B0%E7%BB%84%E5%B1%9E%E6%80%A7"><span class="nav-number">1.3.</span> <span class="nav-text">jupyter插件、numpy数组属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E8%AF%BB%E5%86%99%E6%93%8D%E4%BD%9C"><span class="nav-number">1.4.</span> <span class="nav-text">文件读写操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#numpy%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">1.5.</span> <span class="nav-text">numpy数据类型</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Numpy%E6%95%B0%E7%BB%84%E8%BF%90%E7%AE%97"><span class="nav-number">2.</span> <span class="nav-text">Numpy数组运算</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E8%BF%90%E7%AE%97"><span class="nav-number">2.1.</span> <span class="nav-text">基本运算</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97"><span class="nav-number">2.2.</span> <span class="nav-text">逻辑运算</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E4%B8%8E%E6%A0%87%E9%87%8F%E7%9A%84%E8%BF%90%E7%AE%97"><span class="nav-number">2.3.</span> <span class="nav-text">数组与标量的运算</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9B%B4%E6%8E%A5%E6%94%B9%E5%8F%98%E5%8E%9F%E6%95%B0%E7%BB%84"><span class="nav-number">2.4.</span> <span class="nav-text">-&#x3D; +&#x3D; *&#x3D; 直接改变原数组</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Numpy%E6%8B%B7%E8%B4%9D"><span class="nav-number">3.</span> <span class="nav-text">Numpy拷贝</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%8C%E5%85%A8%E6%B2%A1%E6%9C%89%E5%A4%8D%E5%88%B6"><span class="nav-number">3.1.</span> <span class="nav-text">完全没有复制</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%85%E6%8B%B7%E8%B4%9D%EF%BC%88%E4%B9%9F%E5%8F%AB%E8%A7%86%E5%9B%BE%E6%88%96%E6%9F%A5%E7%9C%8B%EF%BC%89"><span class="nav-number">3.2.</span> <span class="nav-text">浅拷贝（也叫视图或查看）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="nav-number">3.3.</span> <span class="nav-text">深拷贝</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Numpy%E7%B4%A2%E5%BC%95%EF%BC%8C%E5%88%87%E7%89%87"><span class="nav-number">4.</span> <span class="nav-text">Numpy索引，切片</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E7%B4%A2%E5%BC%95%E5%92%8C%E5%88%87%E7%89%87"><span class="nav-number">4.1.</span> <span class="nav-text">基本索引和切片</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8A%B1%E5%BC%8F%E7%B4%A2%E5%BC%95%E5%92%8C%E7%B4%A2%E5%BC%95%E6%8A%80%E5%B7%A7"><span class="nav-number">4.2.</span> <span class="nav-text">花式索引和索引技巧</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Numpy%E5%BD%A2%E7%8A%B6%E6%93%8D%E4%BD%9C"><span class="nav-number">5.</span> <span class="nav-text">Numpy形状操作</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E5%8F%98%E5%BD%A2"><span class="nav-number">5.1.</span> <span class="nav-text">数组变形</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E8%BD%AC%E7%BD%AE"><span class="nav-number">5.2.</span> <span class="nav-text">数组转置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E5%A0%86%E5%8F%A0%E5%90%88%E5%B9%B6"><span class="nav-number">5.3.</span> <span class="nav-text">数组堆叠合并</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E6%8B%86%E5%88%86"><span class="nav-number">5.4.</span> <span class="nav-text">数组拆分</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Numpy%E5%B9%BF%E6%92%AD%E6%9C%BA%E5%88%B6"><span class="nav-number">6.</span> <span class="nav-text">Numpy广播机制</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Numpy%E5%87%BD%E6%95%B0"><span class="nav-number">7.</span> <span class="nav-text">Numpy函数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%83%E7%B4%A0%E7%BA%A7%E6%95%B0%E5%AD%97%E5%87%BD%E6%95%B0"><span class="nav-number">7.1.</span> <span class="nav-text">元素级数字函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#where%E5%87%BD%E6%95%B0"><span class="nav-number">7.2.</span> <span class="nav-text">where函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%92%E5%BA%8F"><span class="nav-number">7.3.</span> <span class="nav-text">排序</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9B%86%E5%90%88%E6%93%8D%E4%BD%9C"><span class="nav-number">7.4.</span> <span class="nav-text">集合操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E5%AD%A6%E5%92%8C%E7%BB%9F%E8%AE%A1%E5%87%BD%E6%95%B0"><span class="nav-number">7.5.</span> <span class="nav-text">数学和统计函数</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Numpy%E7%BA%BF%E6%80%A7%E4%BB%A3%E6%95%B0"><span class="nav-number">8.</span> <span class="nav-text">Numpy线性代数</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%9F%A9%E9%98%B5%E7%9B%B8%E4%B9%98"><span class="nav-number">8.1.</span> <span class="nav-text">矩阵相乘</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#axis%E7%9A%84%E7%90%86%E8%A7%A3"><span class="nav-number">9.</span> <span class="nav-text">axis的理解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-Axis%E5%B0%B1%E6%98%AF%E6%95%B0%E7%BB%84%E5%B1%82%E7%BA%A7%EF%BC%8C%E4%BA%A6%E5%8F%AF%E4%BB%A5%E7%90%86%E8%A7%A3%E4%B8%BA%E6%95%B0%E5%AD%97%E7%9A%84%E7%BB%B4%E5%BA%A6%EF%BC%8C%E8%AE%BEaxis-i%EF%BC%8C%E5%88%99Numpy%E6%B2%BF%E7%9D%80%E7%AC%ACi%E4%B8%AA%E4%B8%8B%E6%A0%87%E5%8F%98%E5%8C%96%E7%9A%84%E6%96%B9%E5%90%91%E8%BF%9B%E8%A1%8C%E6%93%8D%E4%BD%9C"><span class="nav-number">9.0.0.1.</span> <span class="nav-text">1.Axis就是数组层级，亦可以理解为数字的维度，设axis&#x3D;i，则Numpy沿着第i个下标变化的方向进行操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Axis%E5%B0%B1%E6%98%AF%E6%95%B0%E7%BB%84%E5%B1%82%E7%BA%A7"><span class="nav-number">9.0.0.2.</span> <span class="nav-text">Axis就是数组层级</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BEaxis-i%EF%BC%8C%E5%88%99Numpy%E6%B2%BF%E7%9D%80%E7%AC%ACi%E4%B8%AA%E4%B8%8B%E6%A0%87%E5%8F%98%E5%8C%96%E7%9A%84%E6%96%B9%E5%90%91%E8%BF%9B%E8%A1%8C%E6%93%8D%E4%BD%9C"><span class="nav-number">9.0.0.3.</span> <span class="nav-text">设axis&#x3D;i，则Numpy沿着第i个下标变化的方向进行操作</span></a></li></ol></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="昱森"
      src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">昱森</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">34</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yu-sen.github.io/20210624000520/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="昱森">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="昱森笔记">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          【数据分析】第五阶段：python（三）数值高效计算（Numpy科学计算库）
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-24 00:05:20" itemprop="dateCreated datePublished" datetime="2021-06-24T00:05:20+08:00">2021-06-24</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-06-27 17:14:31" itemprop="dateModified" datetime="2021-06-27T17:14:31+08:00">2021-06-27</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">学习笔记</span></a>
        </span>
    </span>

  
</div>

            <div class="post-description">本模块基于Numpy实现科学计算，通过Numpy生成ndarray、索引和切片，对数组进行面向数组编程。</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="Numpy基础"><a href="#Numpy基础" class="headerlink" title="Numpy基础"></a>Numpy基础</h1><h2 id="Numpy介绍和安装"><a href="#Numpy介绍和安装" class="headerlink" title="Numpy介绍和安装"></a>Numpy介绍和安装</h2><p>NumPy(Numerical Python)是Python的一种开源的数值计算扩展。提供多维数组对象，各种派生对 象(如掩码数组和矩阵)，这种工具可用来存储和处理大型矩阵，比Python自身的嵌套列表(nested list structure)结构要高效的多(该结构也可以用来表示矩阵(matrix))，支持大量的维度数组与矩阵 运算，此外也针对数组运算提供大量的数学函数库，包括数学、逻辑、形状操作、排序、选择、输入输出、离散傅立叶变换、基本线性代数，基本统计运算和随机模拟等等。</p>
<p>安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install jupyter</span><br><span class="line">pip install numpy</span><br></pre></td></tr></table></figure>

<p>jupyter是一个开发工具</p>
<p>打开 jupyter：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jupyter notebook</span><br></pre></td></tr></table></figure>

<h2 id="jupyter操作、numpy创建数组"><a href="#jupyter操作、numpy创建数组" class="headerlink" title="jupyter操作、numpy创建数组"></a>jupyter操作、numpy创建数组</h2><p>NumPy的数组类称为ndarray，也被称为别名 array。请注意，numpy.array这与标准Python库类不同 array.array，后者仅处理一维数组且功能较少。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np <span class="comment"># Shift + Enter 执行</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建可以将Python中的list，转换成NumPy数组</span></span><br><span class="line">l = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">nd1 = np.array(l) <span class="comment"># arr + Tab 补全提示</span></span><br><span class="line"><span class="built_in">print</span>(nd1)</span><br><span class="line">display(nd1) <span class="comment"># 显示</span></span><br><span class="line"><span class="comment"># [1 2 3 4 5]</span></span><br><span class="line">	array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line"></span><br><span class="line">nd2 = np.zeros(shape = (<span class="number">3</span>,<span class="number">4</span>), dtype = np.int16) <span class="comment"># shift + Tab 提示方法的属性，使用</span></span><br><span class="line">nd2</span><br><span class="line"><span class="comment"># array([[0, 0, 0, 0],</span></span><br><span class="line">       [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]], dtype=int16)</span><br><span class="line"></span><br><span class="line">nd3 = np.ones(shape = (<span class="number">3</span>,<span class="number">5</span>), dtype = np.float32)</span><br><span class="line">nd3 <span class="comment"># jupyter中执行程序，代码，最后一行，默认就是输出</span></span><br><span class="line"><span class="comment"># array([[1., 1., 1., 1., 1.],</span></span><br><span class="line">       [<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>],</span><br><span class="line">       [<span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>, <span class="number">1.</span>]], dtype=float32)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 三位数组</span></span><br><span class="line">nd4 = np.full(shape = (<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>), fill_value = <span class="number">3.1415926</span>) <span class="comment"># 生成任意指定的数组</span></span><br><span class="line">nd4</span><br><span class="line"><span class="comment"># array([[[3.1415926, 3.1415926, 3.1415926, 3.1415926, 3.1415926],</span></span><br><span class="line">        [<span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>],</span><br><span class="line">        [<span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>],</span><br><span class="line">        [<span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>],</span><br><span class="line">        [<span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>],</span><br><span class="line">        [<span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>],</span><br><span class="line">        [<span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>],</span><br><span class="line">        [<span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>],</span><br><span class="line">        [<span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>],</span><br><span class="line">        [<span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>, <span class="number">3.1415926</span>]]])</span><br><span class="line"></span><br><span class="line">nd5 = np.random.randint(<span class="number">0</span>,<span class="number">100</span>,size=<span class="number">20</span>) <span class="comment"># 从0到100，生成20个随机数，int整数</span></span><br><span class="line">nd5</span><br><span class="line"><span class="comment"># array([38, 30, 86, 41, 85, 30, 15, 75, 43, 71,  1, 56, 57, 68, 17, 27, 17,</span></span><br><span class="line">       <span class="number">83</span>, <span class="number">40</span>, <span class="number">72</span>])</span><br><span class="line"></span><br><span class="line">nd6 = np.random.rand(<span class="number">3</span>,<span class="number">5</span>) <span class="comment"># 生成0～1之间的随机数</span></span><br><span class="line">nd6</span><br><span class="line"><span class="comment"># array([[0.77663803, 0.11702091, 0.18031498, 0.47348888, 0.05004264],</span></span><br><span class="line">       [<span class="number">0.84740708</span>, <span class="number">0.11633668</span>, <span class="number">0.71007798</span>, <span class="number">0.03210735</span>, <span class="number">0.48758925</span>],</span><br><span class="line">       [<span class="number">0.64457027</span>, <span class="number">0.61373153</span>, <span class="number">0.82304435</span>, <span class="number">0.24623281</span>, <span class="number">0.31574082</span>]])</span><br><span class="line"></span><br><span class="line">nd7 = np.random.randn(<span class="number">3</span>,<span class="number">5</span>) <span class="comment"># 正态分布，平均值是0，标准差是1</span></span><br><span class="line">display(nd7)</span><br><span class="line"><span class="comment"># array([[-2.45795376,  0.10289315,  0.42696645, -1.20559391, -0.06939776],</span></span><br><span class="line">       [-<span class="number">0.53512744</span>, -<span class="number">0.34935876</span>, -<span class="number">0.8623595</span> , -<span class="number">0.37741174</span>,  <span class="number">0.58421729</span>],</span><br><span class="line">       [-<span class="number">1.32914239</span>, -<span class="number">0.79446503</span>, -<span class="number">0.01809647</span>, -<span class="number">0.12363101</span>, -<span class="number">0.45921063</span>]])</span><br><span class="line"></span><br><span class="line">nd8 = np.random.normal(loc=<span class="number">175</span>, scale=<span class="number">10</span>, size=(<span class="number">3</span>,<span class="number">5</span>)) <span class="comment"># 正态分布，平均值是175，标准差是10</span></span><br><span class="line"><span class="built_in">print</span>(nd8)</span><br><span class="line"><span class="comment"># [[169.58727647 167.24390077 178.3448052  189.29646055 168.7064162 ]</span></span><br><span class="line"> [<span class="number">176.66889153</span> <span class="number">174.24171292</span> <span class="number">164.55265256</span> <span class="number">182.73991813</span> <span class="number">173.16207861</span>]</span><br><span class="line"> [<span class="number">165.72103767</span> <span class="number">189.17317896</span> <span class="number">170.71889571</span> <span class="number">168.98354867</span> <span class="number">176.47549241</span>]]</span><br><span class="line"></span><br><span class="line">nd9 = np.arange(<span class="number">1</span>,<span class="number">100</span>,step=<span class="number">1</span>) <span class="comment"># 等差数列，左闭右开，100取不到</span></span><br><span class="line">nd9</span><br><span class="line"><span class="comment"># array([ 1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,</span></span><br><span class="line">       <span class="number">18</span>, <span class="number">19</span>, <span class="number">20</span>, <span class="number">21</span>, <span class="number">22</span>, <span class="number">23</span>, <span class="number">24</span>, <span class="number">25</span>, <span class="number">26</span>, <span class="number">27</span>, <span class="number">28</span>, <span class="number">29</span>, <span class="number">30</span>, <span class="number">31</span>, <span class="number">32</span>, <span class="number">33</span>, <span class="number">34</span>,</span><br><span class="line">       <span class="number">35</span>, <span class="number">36</span>, <span class="number">37</span>, <span class="number">38</span>, <span class="number">39</span>, <span class="number">40</span>, <span class="number">41</span>, <span class="number">42</span>, <span class="number">43</span>, <span class="number">44</span>, <span class="number">45</span>, <span class="number">46</span>, <span class="number">47</span>, <span class="number">48</span>, <span class="number">49</span>, <span class="number">50</span>, <span class="number">51</span>,</span><br><span class="line">       <span class="number">52</span>, <span class="number">53</span>, <span class="number">54</span>, <span class="number">55</span>, <span class="number">56</span>, <span class="number">57</span>, <span class="number">58</span>, <span class="number">59</span>, <span class="number">60</span>, <span class="number">61</span>, <span class="number">62</span>, <span class="number">63</span>, <span class="number">64</span>, <span class="number">65</span>, <span class="number">66</span>, <span class="number">67</span>, <span class="number">68</span>,</span><br><span class="line">       <span class="number">69</span>, <span class="number">70</span>, <span class="number">71</span>, <span class="number">72</span>, <span class="number">73</span>, <span class="number">74</span>, <span class="number">75</span>, <span class="number">76</span>, <span class="number">77</span>, <span class="number">78</span>, <span class="number">79</span>, <span class="number">80</span>, <span class="number">81</span>, <span class="number">82</span>, <span class="number">83</span>, <span class="number">84</span>, <span class="number">85</span>,</span><br><span class="line">       <span class="number">86</span>, <span class="number">87</span>, <span class="number">88</span>, <span class="number">89</span>, <span class="number">90</span>, <span class="number">91</span>, <span class="number">92</span>, <span class="number">93</span>, <span class="number">94</span>, <span class="number">95</span>, <span class="number">96</span>, <span class="number">97</span>, <span class="number">98</span>, <span class="number">99</span>])</span><br><span class="line"></span><br><span class="line">nd10 = np.linspace(<span class="number">1</span>,<span class="number">100</span>,num=<span class="number">20</span>) <span class="comment"># 等差数列，左闭右闭，num表示生成等差数列的长度</span></span><br><span class="line">nd10</span><br><span class="line"><span class="comment"># array([  1.        ,   6.21052632,  11.42105263,  16.63157895,</span></span><br><span class="line">        <span class="number">21.84210526</span>,  <span class="number">27.05263158</span>,  <span class="number">32.26315789</span>,  <span class="number">37.47368421</span>,</span><br><span class="line">        <span class="number">42.68421053</span>,  <span class="number">47.89473684</span>,  <span class="number">53.10526316</span>,  <span class="number">58.31578947</span>,</span><br><span class="line">        <span class="number">63.52631579</span>,  <span class="number">68.73684211</span>,  <span class="number">73.94736842</span>,  <span class="number">79.15789474</span>,</span><br><span class="line">        <span class="number">84.36842105</span>,  <span class="number">89.57894737</span>,  <span class="number">94.78947368</span>, <span class="number">100.</span>        ])</span><br></pre></td></tr></table></figure>

<h2 id="jupyter插件、numpy数组属性"><a href="#jupyter插件、numpy数组属性" class="headerlink" title="jupyter插件、numpy数组属性"></a>jupyter插件、numpy数组属性</h2><p>jupyter扩展插件：</p>
<ul>
<li>pip install jupyter_contrib_nbextensions</li>
<li>pip install jupyter_nbextensions_configurator</li>
</ul>
<p>配置命令：</p>
<p> jupyter contrib nbextension install –user<br> jupyter nbextensions_configurator enable –user</p>
<p>配置前关闭jupyter，配置后重启jupyter</p>
<p>勾选一些插件：</p>
<ul>
<li>Collapsible Headings：折叠标题</li>
<li>Table of Contents (2)：目录大纲</li>
<li>Codefolding：折叠代码</li>
<li>Hinterland：输入代码时自动补全提示</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">nd = np.random.randn(<span class="number">5</span>,<span class="number">3</span>)</span><br><span class="line">nd</span><br><span class="line"><span class="comment"># array([[ 0.06473005, -0.71088673,  1.89772894],</span></span><br><span class="line">       [-<span class="number">0.11956733</span>, -<span class="number">1.42285519</span>, -<span class="number">0.55382711</span>],</span><br><span class="line">       [ <span class="number">1.01566014</span>,  <span class="number">0.34695295</span>, -<span class="number">1.35793019</span>],</span><br><span class="line">       [ <span class="number">0.69863095</span>,  <span class="number">0.48830044</span>, -<span class="number">1.1479501</span> ],</span><br><span class="line">       [-<span class="number">1.32697378</span>,  <span class="number">0.09521401</span>,  <span class="number">1.73749091</span>]])</span><br><span class="line"></span><br><span class="line">nd.shape <span class="comment"># 数组形状</span></span><br><span class="line"><span class="comment"># (5, 3)</span></span><br><span class="line"></span><br><span class="line">nd.dtype <span class="comment"># 数组的数据类型，float64位，一位占一个0或1</span></span><br><span class="line"><span class="comment"># dtype(&#x27;float64&#x27;)</span></span><br><span class="line"></span><br><span class="line">nd.size <span class="comment"># 数组的元素个数，数组可以是多维的，请问，里面有多少数据，5*3=15</span></span><br><span class="line"><span class="comment"># 15</span></span><br><span class="line"></span><br><span class="line">nd.ndim <span class="comment"># 数组维度</span></span><br><span class="line"><span class="comment"># 2</span></span><br><span class="line"></span><br><span class="line">nd.itemsize <span class="comment"># 元素的大小，8字节</span></span><br><span class="line"><span class="comment"># 数据类型是float64位，1字节=8位，8字节=64位</span></span><br><span class="line"><span class="comment"># 8</span></span><br></pre></td></tr></table></figure>

<h2 id="文件读写操作"><a href="#文件读写操作" class="headerlink" title="文件读写操作"></a>文件读写操作</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">nd1 = np.random.randint(<span class="number">0</span>,<span class="number">100</span>,size=(<span class="number">3</span>,<span class="number">5</span>))</span><br><span class="line">nd2 = np.random.randn(<span class="number">3</span>,<span class="number">5</span>)</span><br><span class="line">display(nd1,nd2)</span><br><span class="line"><span class="comment"># array([[45, 34,  8, 95,  5],</span></span><br><span class="line">       [<span class="number">16</span>, <span class="number">53</span>, <span class="number">50</span>, <span class="number">96</span>, <span class="number">27</span>],</span><br><span class="line">       [<span class="number">19</span>, <span class="number">64</span>, <span class="number">34</span>, <span class="number">35</span>, <span class="number">52</span>]])</span><br><span class="line"><span class="comment"># array([[-2.18469582, -0.34279244, -1.45080225, -0.28285667,  1.10508641],</span></span><br><span class="line">       [ <span class="number">2.07537525</span>, -<span class="number">0.24318128</span>,  <span class="number">1.50747735</span>, -<span class="number">1.56132013</span>, -<span class="number">1.198134</span>  ],</span><br><span class="line">       [-<span class="number">0.61875823</span>, -<span class="number">1.47236696</span>,  <span class="number">0.53825821</span>, -<span class="number">0.93665319</span>, -<span class="number">1.15234581</span>]])</span><br><span class="line"></span><br><span class="line">np.save(<span class="string">&#x27;./data&#x27;</span>,nd1) <span class="comment"># 把一个数据存到文件中</span></span><br><span class="line">np.load(<span class="string">&#x27;./data.npy&#x27;</span>) <span class="comment"># save的时候默认添加.npy后缀</span></span><br><span class="line"><span class="comment"># array([[45, 34,  8, 95,  5],</span></span><br><span class="line">       [<span class="number">16</span>, <span class="number">53</span>, <span class="number">50</span>, <span class="number">96</span>, <span class="number">27</span>],</span><br><span class="line">       [<span class="number">19</span>, <span class="number">64</span>, <span class="number">34</span>, <span class="number">35</span>, <span class="number">52</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 多个数据存到一个文件中</span></span><br><span class="line">np.savez(<span class="string">&#x27;./data.npz&#x27;</span>, a = nd1, abc = nd2) <span class="comment"># 保存数据时起名：a,abc为key，自己随意命名</span></span><br><span class="line">data = np.load(<span class="string">&#x27;./data.npz&#x27;</span>)</span><br><span class="line">data</span><br><span class="line"><span class="comment">#  &lt;numpy.lib.npyio.NpzFile at 0x119ec1730&gt;</span></span><br><span class="line">data[<span class="string">&#x27;a&#x27;</span>] <span class="comment"># 单引号</span></span><br><span class="line"><span class="comment"># array([[45, 34,  8, 95,  5],</span></span><br><span class="line">       [<span class="number">16</span>, <span class="number">53</span>, <span class="number">50</span>, <span class="number">96</span>, <span class="number">27</span>],</span><br><span class="line">       [<span class="number">19</span>, <span class="number">64</span>, <span class="number">34</span>, <span class="number">35</span>, <span class="number">52</span>]])</span><br><span class="line">data[<span class="string">&#x27;abc&#x27;</span>]</span><br><span class="line"><span class="comment"># array([[-2.18469582, -0.34279244, -1.45080225, -0.28285667,  1.10508641],</span></span><br><span class="line">       [ <span class="number">2.07537525</span>, -<span class="number">0.24318128</span>,  <span class="number">1.50747735</span>, -<span class="number">1.56132013</span>, -<span class="number">1.198134</span>  ],</span><br><span class="line">       [-<span class="number">0.61875823</span>, -<span class="number">1.47236696</span>,  <span class="number">0.53825821</span>, -<span class="number">0.93665319</span>, -<span class="number">1.15234581</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据存储为压缩文件</span></span><br><span class="line">np.savez_compressed(<span class="string">&#x27;./data2.npz&#x27;</span>,x = nd1, y = nd2)</span><br><span class="line">np.load(<span class="string">&#x27;./data2.npz&#x27;</span>)[<span class="string">&#x27;x&#x27;</span>]</span><br><span class="line"><span class="comment"># array([[45, 34,  8, 95,  5],</span></span><br><span class="line">       [<span class="number">16</span>, <span class="number">53</span>, <span class="number">50</span>, <span class="number">96</span>, <span class="number">27</span>],</span><br><span class="line">       [<span class="number">19</span>, <span class="number">64</span>, <span class="number">34</span>, <span class="number">35</span>, <span class="number">52</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据存储为文本文件</span></span><br><span class="line">np.savetxt(</span><br><span class="line">    fname=<span class="string">&#x27;./data.txt&#x27;</span>, <span class="comment"># 文件名</span></span><br><span class="line">    X=nd1, <span class="comment"># 数据</span></span><br><span class="line">    fmt=<span class="string">&#x27;%0.2f&#x27;</span>, <span class="comment"># 格式</span></span><br><span class="line">    delimiter=<span class="string">&#x27;,&#x27;</span> <span class="comment"># 分隔符</span></span><br><span class="line">)</span><br><span class="line">;</span><br><span class="line">np.savetxt(</span><br><span class="line">    fname=<span class="string">&#x27;./data.csv&#x27;</span>, <span class="comment"># 文件名</span></span><br><span class="line">    X=nd1, <span class="comment"># 数据</span></span><br><span class="line">    fmt=<span class="string">&#x27;%d&#x27;</span>, <span class="comment"># 格式</span></span><br><span class="line">    delimiter=<span class="string">&#x27;;&#x27;</span> <span class="comment"># 分隔符</span></span><br><span class="line">)</span><br><span class="line">np.loadtxt(<span class="string">&#x27;./data.csv&#x27;</span>,delimiter=<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line"><span class="comment"># array([[45., 34.,  8., 95.,  5.],</span></span><br><span class="line">       [<span class="number">16.</span>, <span class="number">53.</span>, <span class="number">50.</span>, <span class="number">96.</span>, <span class="number">27.</span>],</span><br><span class="line">       [<span class="number">19.</span>, <span class="number">64.</span>, <span class="number">34.</span>, <span class="number">35.</span>, <span class="number">52.</span>]])</span><br><span class="line">np.loadtxt(<span class="string">&#x27;./data.txt&#x27;</span>,delimiter=<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line"><span class="comment"># array([[45., 34.,  8., 95.,  5.],</span></span><br><span class="line">       [<span class="number">16.</span>, <span class="number">53.</span>, <span class="number">50.</span>, <span class="number">96.</span>, <span class="number">27.</span>],</span><br><span class="line">       [<span class="number">19.</span>, <span class="number">64.</span>, <span class="number">34.</span>, <span class="number">35.</span>, <span class="number">52.</span>]])</span><br></pre></td></tr></table></figure>

<h2 id="numpy数据类型"><a href="#numpy数据类型" class="headerlink" title="numpy数据类型"></a>numpy数据类型</h2><p>ndarray的数据类型</p>
<ul>
<li>int: int8、uint8、int16、int32、int64 </li>
<li>float: float16、float32、float64</li>
<li>str</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># int8,int16,int32,int64,uint8无符号</span></span><br><span class="line"><span class="comment"># float16,float32,float64</span></span><br><span class="line"><span class="comment"># str字符串类型</span></span><br><span class="line"><span class="comment"># int8 表示 2**8个数字 256 -128 ~ 127 有符号</span></span><br><span class="line"><span class="comment"># uint8 表示256个数字，无符号，表明只有整数：0 ~ 255</span></span><br><span class="line"></span><br><span class="line">np.array([<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>], dtype=np.int8) <span class="comment"># 声明时指定数据类型</span></span><br><span class="line"><span class="comment"># array([2, 4, 7], dtype=int8)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 超过范围会自动减，-3-256=253，-7-256=249，256-256=0，257-256=1</span></span><br><span class="line">np.array([-<span class="number">3</span>,-<span class="number">7</span>,<span class="number">255</span>,<span class="number">108</span>,<span class="number">0</span>,<span class="number">256</span>,<span class="number">257</span>], dtype=np.uint8)</span><br><span class="line"><span class="comment"># array([253, 249, 255, 108,   0,   0,   1], dtype=uint8)</span></span><br><span class="line"></span><br><span class="line">np.random.randint(<span class="number">0</span>,<span class="number">100</span>,size = <span class="number">10</span>, dtype=<span class="string">&#x27;int32&#x27;</span>) <span class="comment"># 数据类型也可以用字符串&#x27;int32&#x27; 和np.int32一样</span></span><br><span class="line"><span class="comment"># array([80, 12, 16, 40,  9, 92,  3, 50, 98, 72], dtype=int32)</span></span><br><span class="line"></span><br><span class="line">nd = np.random.rand(<span class="number">10</span>,<span class="number">2</span>)</span><br><span class="line">nd</span><br><span class="line"><span class="comment"># array([[0.06317456, 0.7004027 ],</span></span><br><span class="line">       [<span class="number">0.68729213</span>, <span class="number">0.26120042</span>],</span><br><span class="line">       [<span class="number">0.3896194</span> , <span class="number">0.78455975</span>],</span><br><span class="line">       [<span class="number">0.05996179</span>, <span class="number">0.12533533</span>],</span><br><span class="line">       [<span class="number">0.82546158</span>, <span class="number">0.26727256</span>],</span><br><span class="line">       [<span class="number">0.06133464</span>, <span class="number">0.327031</span>  ],</span><br><span class="line">       [<span class="number">0.82389777</span>, <span class="number">0.37362349</span>],</span><br><span class="line">       [<span class="number">0.23175058</span>, <span class="number">0.02009914</span>],</span><br><span class="line">       [<span class="number">0.80245219</span>, <span class="number">0.46818195</span>],</span><br><span class="line">       [<span class="number">0.59095296</span>, <span class="number">0.6970078</span> ]])</span><br><span class="line">nd.dtype</span><br><span class="line"><span class="comment"># dtype(&#x27;float64&#x27;)</span></span><br><span class="line">np.asarray(nd,dtype=<span class="string">&#x27;float32&#x27;</span>) <span class="comment"># 转换数据类型</span></span><br><span class="line"><span class="comment"># array([[0.06317456, 0.7004027 ],</span></span><br><span class="line">       [<span class="number">0.68729216</span>, <span class="number">0.26120043</span>],</span><br><span class="line">       [<span class="number">0.3896194</span> , <span class="number">0.7845597</span> ],</span><br><span class="line">       [<span class="number">0.05996179</span>, <span class="number">0.12533534</span>],</span><br><span class="line">       [<span class="number">0.82546157</span>, <span class="number">0.26727256</span>],</span><br><span class="line">       [<span class="number">0.06133464</span>, <span class="number">0.327031</span>  ],</span><br><span class="line">       [<span class="number">0.8238978</span> , <span class="number">0.3736235</span> ],</span><br><span class="line">       [<span class="number">0.23175058</span>, <span class="number">0.02009914</span>],</span><br><span class="line">       [<span class="number">0.8024522</span> , <span class="number">0.46818194</span>],</span><br><span class="line">       [<span class="number">0.59095293</span>, <span class="number">0.6970078</span> ]], dtype=float32)</span><br><span class="line">nd.astype(dtype=<span class="string">&#x27;float16&#x27;</span>) <span class="comment"># 转换数据类型</span></span><br><span class="line"><span class="comment"># array([[0.0632 , 0.7    ],</span></span><br><span class="line">       [<span class="number">0.6875</span> , <span class="number">0.2612</span> ],</span><br><span class="line">       [<span class="number">0.3896</span> , <span class="number">0.7847</span> ],</span><br><span class="line">       [<span class="number">0.05997</span>, <span class="number">0.1254</span> ],</span><br><span class="line">       [<span class="number">0.8257</span> , <span class="number">0.2673</span> ],</span><br><span class="line">       [<span class="number">0.06134</span>, <span class="number">0.3271</span> ],</span><br><span class="line">       [<span class="number">0.8237</span> , <span class="number">0.3735</span> ],</span><br><span class="line">       [<span class="number">0.2318</span> , <span class="number">0.0201</span> ],</span><br><span class="line">       [<span class="number">0.8022</span> , <span class="number">0.4683</span> ],</span><br><span class="line">       [<span class="number">0.591</span>  , <span class="number">0.697</span>  ]], dtype=float16)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不同数据类型对文件大小的影响</span></span><br><span class="line">nd = np.random.randn(<span class="number">1000</span>,<span class="number">3</span>) <span class="comment"># 默认数据类型float64</span></span><br><span class="line">np.save(<span class="string">&#x27;./data1&#x27;</span>, nd) <span class="comment"># 文件大小：24KB</span></span><br><span class="line">np.save(<span class="string">&#x27;./data2&#x27;</span>, nd.astype(<span class="string">&#x27;float16&#x27;</span>)) <span class="comment"># 文件大小：6KB</span></span><br><span class="line"></span><br><span class="line">nd = np.array(<span class="built_in">list</span>(<span class="string">&#x27;abcdefghi&#x27;</span>)) <span class="comment"># 字符串类型</span></span><br><span class="line">nd</span><br><span class="line"><span class="comment"># array([&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;, &#x27;e&#x27;, &#x27;f&#x27;, &#x27;g&#x27;, &#x27;h&#x27;, &#x27;i&#x27;], dtype=&#x27;&lt;U1&#x27;)</span></span><br><span class="line">nd.dtype</span><br><span class="line"><span class="comment"># dtype(&#x27;&lt;U1&#x27;)</span></span><br></pre></td></tr></table></figure>

<h1 id="Numpy数组运算"><a href="#Numpy数组运算" class="headerlink" title="Numpy数组运算"></a>Numpy数组运算</h1><h2 id="基本运算"><a href="#基本运算" class="headerlink" title="基本运算"></a>基本运算</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 加减乘除指数幂运算</span></span><br><span class="line"></span><br><span class="line">nd1 = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,size=<span class="number">5</span>)</span><br><span class="line">nd2 = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,size=<span class="number">5</span>)</span><br><span class="line">display(nd1,nd2)</span><br><span class="line"><span class="comment"># array([8, 9, 6, 9, 3])</span></span><br><span class="line"><span class="comment"># array([3, 8, 3, 8, 2])</span></span><br><span class="line"></span><br><span class="line">nd1 + nd2 <span class="comment"># 返回一个新的数组对象，原来的数组，内容不变</span></span><br><span class="line"><span class="comment"># array([11, 17,  9, 17,  5])</span></span><br><span class="line"></span><br><span class="line">nd1 - nd2</span><br><span class="line"><span class="comment"># array([5, 1, 3, 1, 1])</span></span><br><span class="line"></span><br><span class="line">nd1 * nd2</span><br><span class="line"><span class="comment"># array([24, 72, 18, 72,  6])</span></span><br><span class="line"></span><br><span class="line">nd1 / nd2</span><br><span class="line"><span class="comment"># array([2.66666667, 1.125     , 2.        , 1.125     , 1.5       ])</span></span><br><span class="line"></span><br><span class="line">nd1 ** nd2 <span class="comment"># 幂运算</span></span><br><span class="line"><span class="comment"># array([     512, 43046721,      216, 43046721,        9])</span></span><br><span class="line"></span><br><span class="line">np.power(<span class="number">2</span>,<span class="number">3</span>) <span class="comment"># 表示2的三次幂</span></span><br><span class="line"><span class="comment"># 8</span></span><br><span class="line"></span><br><span class="line">np.power(nd1,nd2) <span class="comment"># 表示nd1的nd2次幂</span></span><br><span class="line"><span class="comment"># array([     512, 43046721,      216, 43046721,        9])</span></span><br><span class="line"></span><br><span class="line">np.log(<span class="number">100</span>) <span class="comment"># 对数运算，底数是自然底数e 2.718</span></span><br><span class="line"><span class="comment"># 4.605170185988092</span></span><br><span class="line">np.log10(<span class="number">1000</span>)</span><br><span class="line"><span class="comment"># 3.0</span></span><br></pre></td></tr></table></figure>

<h2 id="逻辑运算"><a href="#逻辑运算" class="headerlink" title="逻辑运算"></a>逻辑运算</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">display(nd1,nd2)</span><br><span class="line"><span class="comment"># array([0, 3, 9, 9, 4])</span></span><br><span class="line"><span class="comment"># array([5, 4, 3, 9, 5])</span></span><br><span class="line"></span><br><span class="line">nd1 &gt; nd2</span><br><span class="line"><span class="comment"># array([False, False, False, False, False])</span></span><br><span class="line"></span><br><span class="line">nd1 &lt; nd2</span><br><span class="line"><span class="comment"># array([ True,  True,  True,  True,  True])</span></span><br><span class="line"></span><br><span class="line">nd1 &gt;= nd2</span><br><span class="line"><span class="comment"># array([False, False, False, False, False])</span></span><br><span class="line"></span><br><span class="line">nd1 == nd2</span><br><span class="line"><span class="comment"># array([False, False, False, False, False])</span></span><br><span class="line"></span><br><span class="line">(nd1&gt;<span class="number">2</span>) &amp; (nd1&lt;<span class="number">9</span>) <span class="comment"># &amp; 逻辑与</span></span><br><span class="line"><span class="comment"># array([False,  True,  True,  True, False])</span></span><br><span class="line"></span><br><span class="line">(nd1&gt;<span class="number">2</span>) | (nd1&lt;<span class="number">9</span>) <span class="comment"># | 逻辑或</span></span><br><span class="line"><span class="comment"># array([ True,  True,  True,  True,  True])</span></span><br><span class="line"></span><br><span class="line">~ (nd1&gt;<span class="number">5</span>) <span class="comment"># ~ 逻辑非</span></span><br><span class="line"><span class="comment"># array([ True,  True,  True, False, False])</span></span><br></pre></td></tr></table></figure>

<h2 id="数组与标量的运算"><a href="#数组与标量的运算" class="headerlink" title="数组与标量的运算"></a>数组与标量的运算</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">nd1</span><br><span class="line"><span class="comment"># array([8, 9, 6, 9, 3])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 数字3，4，5...都是标量</span></span><br><span class="line">nd1 + <span class="number">10</span> <span class="comment"># 所有的位置都加了10，广播</span></span><br><span class="line"><span class="comment"># array([18, 19, 16, 19, 13])</span></span><br><span class="line"></span><br><span class="line">nd1 - <span class="number">1024</span></span><br><span class="line"><span class="comment"># array([-1016, -1015, -1018, -1015, -1021])</span></span><br><span class="line"></span><br><span class="line">nd1 * <span class="number">256</span></span><br><span class="line"><span class="comment"># array([2048, 2304, 1536, 2304,  768])</span></span><br><span class="line"></span><br><span class="line">nd1 / <span class="number">1024</span></span><br><span class="line"><span class="comment"># array([0.0078125 , 0.00878906, 0.00585938, 0.00878906, 0.00292969])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 数组也可以做分母，注意不能有0</span></span><br><span class="line"><span class="number">1</span> / nd1</span><br><span class="line"><span class="comment"># array([0.125     , 0.11111111, 0.16666667, 0.11111111, 0.33333333])</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span>/np.array([<span class="number">1</span>,<span class="number">3</span>,<span class="number">0</span>,<span class="number">5</span>]) <span class="comment"># 0位置，inf，</span></span><br><span class="line"><span class="comment"># &lt;ipython-input-63-c14e1d8d9b62&gt;:1: RuntimeWarning: divide by zero encountered in true_divide</span></span><br><span class="line">  <span class="comment"># 1/np.array([1,3,0,5]) # 0位置，inf，</span></span><br><span class="line"><span class="comment"># array([1.        , 0.33333333,        inf, 0.2       ])</span></span><br></pre></td></tr></table></figure>

<h2 id="直接改变原数组"><a href="#直接改变原数组" class="headerlink" title="-= += *= 直接改变原数组"></a>-= += *= 直接改变原数组</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">display(nd1,nd2)</span><br><span class="line"><span class="comment"># array([8, 9, 6, 9, 3])</span></span><br><span class="line"><span class="comment"># array([3, 8, 3, 8, 2])</span></span><br><span class="line"></span><br><span class="line">nd1 -= <span class="number">100</span> <span class="comment"># 没有打印输出，说明改变了原来的数组</span></span><br><span class="line">nd1</span><br><span class="line"><span class="comment"># array([-92, -91, -94, -91, -97])</span></span><br><span class="line"></span><br><span class="line">nd2 *= <span class="number">3</span></span><br><span class="line">nd2</span><br><span class="line"><span class="comment"># array([ 9, 24,  9, 24,  6])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># nd1 /= 10 数组不支持 /=</span></span><br></pre></td></tr></table></figure>

<h1 id="Numpy拷贝"><a href="#Numpy拷贝" class="headerlink" title="Numpy拷贝"></a>Numpy拷贝</h1><h2 id="完全没有复制"><a href="#完全没有复制" class="headerlink" title="完全没有复制"></a>完全没有复制</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">a = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,size = <span class="number">5</span>)</span><br><span class="line">b = a</span><br><span class="line">display(a,b)</span><br><span class="line"><span class="comment"># array([8, 1, 8, 6, 1])</span></span><br><span class="line"><span class="comment"># array([8, 1, 8, 6, 1])</span></span><br><span class="line"></span><br><span class="line">a <span class="keyword">is</span> b <span class="comment"># 返回True，说明a和b是一回事</span></span><br><span class="line"><span class="comment"># True</span></span><br><span class="line"></span><br><span class="line">a[<span class="number">0</span>] = <span class="number">1024</span> <span class="comment"># a,b都指向内存中同一块堆地址</span></span><br><span class="line">display(a,b)</span><br><span class="line"><span class="comment"># array([1024,    1,    8,    6,    1])</span></span><br><span class="line"><span class="comment"># array([1024,    1,    8,    6,    1])</span></span><br></pre></td></tr></table></figure>

<h2 id="浅拷贝（也叫视图或查看）"><a href="#浅拷贝（也叫视图或查看）" class="headerlink" title="浅拷贝（也叫视图或查看）"></a>浅拷贝（也叫视图或查看）</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">a = np.random.randint(<span class="number">0</span>,<span class="number">10</span>, size=<span class="number">5</span>)</span><br><span class="line">b = a.view() <span class="comment"># 视图，查看，浅拷贝</span></span><br><span class="line">display(a,b)</span><br><span class="line"><span class="comment"># array([2, 9, 2, 4, 7])</span></span><br><span class="line"><span class="comment"># array([2, 9, 2, 4, 7])</span></span><br><span class="line"></span><br><span class="line">a <span class="keyword">is</span> b <span class="comment"># 说明a和b不一样</span></span><br><span class="line"><span class="comment"># False</span></span><br><span class="line"></span><br><span class="line">a.flags.owndata <span class="comment"># a数组数据是自己的</span></span><br><span class="line"><span class="comment"># True</span></span><br><span class="line">b.flags.owndata <span class="comment"># b是浅拷贝a的数据，也就是b并不拥有自己的数据</span></span><br><span class="line"><span class="comment"># False</span></span><br><span class="line"></span><br><span class="line">a[<span class="number">0</span>] = <span class="number">1024</span></span><br><span class="line">b[<span class="number">1</span>] = <span class="number">2048</span> <span class="comment"># 无论修改谁，最终结果两个数组都发生改变</span></span><br><span class="line">display(a,b)</span><br><span class="line"><span class="comment"># array([1024, 2048,    2,    4,    7])</span></span><br><span class="line"><span class="comment"># array([1024, 2048,    2,    4,    7])</span></span><br></pre></td></tr></table></figure>

<h2 id="深拷贝"><a href="#深拷贝" class="headerlink" title="深拷贝"></a>深拷贝</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">a = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,size=<span class="number">5</span>)</span><br><span class="line">b = a.copy() <span class="comment"># 深拷贝，此时a和b没有关系</span></span><br><span class="line">display(a,b)</span><br><span class="line"><span class="comment"># array([5, 2, 1, 6, 9])</span></span><br><span class="line"><span class="comment"># array([5, 2, 1, 6, 9])</span></span><br><span class="line"></span><br><span class="line">display(a <span class="keyword">is</span> b)</span><br><span class="line">display(a.flags.owndata)</span><br><span class="line">display(b.flags.owndata) <span class="comment"># b拥有自己的数据</span></span><br><span class="line"><span class="comment"># False</span></span><br><span class="line"><span class="comment"># True</span></span><br><span class="line"><span class="comment"># True</span></span><br><span class="line"></span><br><span class="line">a[<span class="number">0</span>] = <span class="number">1024</span></span><br><span class="line">b[<span class="number">1</span>] = <span class="number">2048</span></span><br><span class="line">display(a,b)</span><br><span class="line"><span class="comment"># array([1024,    2,    1,    6,    9])</span></span><br><span class="line"><span class="comment"># array([   5, 2048,    1,    6,    9])</span></span><br></pre></td></tr></table></figure>

<ul>
<li>copy应该在不再需要原来的数组情况下，切片后调用。例如，假设a是一个巨大的中间结果，而最 终结果b仅包含的一小部分a，则在b使用切片进行构造时应制作一个深拷⻉:</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.arange(<span class="number">1e8</span>)</span><br><span class="line">b = a[::<span class="number">1000000</span>].copy() <span class="comment"># 每100万个数据中取一个数据 </span></span><br><span class="line"><span class="keyword">del</span> a <span class="comment"># 不在需要a，删除占大内存的a</span></span><br><span class="line">b.shape <span class="comment"># shape(100,)</span></span><br></pre></td></tr></table></figure>

<h1 id="Numpy索引，切片"><a href="#Numpy索引，切片" class="headerlink" title="Numpy索引，切片"></a>Numpy索引，切片</h1><h2 id="基本索引和切片"><a href="#基本索引和切片" class="headerlink" title="基本索引和切片"></a>基本索引和切片</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">a = np.random.randint(<span class="number">0</span>,<span class="number">30</span>,size=<span class="number">10</span>)</span><br><span class="line">a</span><br><span class="line"><span class="comment"># array([17,  0, 10, 29, 14, 29, 20,  3,  0, 11])</span></span><br><span class="line"></span><br><span class="line">a[<span class="number">2</span>] <span class="comment"># 取一个</span></span><br><span class="line"><span class="comment"># 10</span></span><br><span class="line"></span><br><span class="line">a[[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>]] <span class="comment"># 取多个</span></span><br><span class="line"><span class="comment"># array([17,  0, 10])</span></span><br><span class="line"></span><br><span class="line">a[<span class="number">0</span>:<span class="number">3</span>] <span class="comment"># 左闭右开</span></span><br><span class="line"><span class="comment"># array([17,  0, 10])</span></span><br><span class="line"></span><br><span class="line">a[:<span class="number">3</span>] <span class="comment"># 如果冒号前面不写，默认从0开始</span></span><br><span class="line"><span class="comment"># array([17,  0, 10])</span></span><br><span class="line"></span><br><span class="line">a[<span class="number">5</span>:<span class="number">9</span>] <span class="comment"># 从某个索引开始切片</span></span><br><span class="line"><span class="comment"># array([29, 20,  3,  0])</span></span><br><span class="line"></span><br><span class="line">a[<span class="number">5</span>:] <span class="comment"># 冒号后面不写，默认结尾结束</span></span><br><span class="line"><span class="comment"># array([29, 20,  3,  0, 11])</span></span><br><span class="line"></span><br><span class="line">a[::<span class="number">2</span>] <span class="comment"># 2个当中取1个</span></span><br><span class="line"><span class="comment"># array([17, 10, 14, 20,  0])</span></span><br><span class="line"></span><br><span class="line">a[<span class="number">3</span>::<span class="number">3</span>] <span class="comment"># 从索引3开始，每3个取1个</span></span><br><span class="line"><span class="comment"># array([29, 20, 11])</span></span><br><span class="line"></span><br><span class="line">a[::-<span class="number">1</span>] <span class="comment"># 从后往前倒着取，数组进行颠倒</span></span><br><span class="line"><span class="comment"># array([11,  0,  3, 20, 29, 14, 29, 10,  0, 17])</span></span><br><span class="line"></span><br><span class="line">a[::-<span class="number">2</span>] <span class="comment"># 颠倒，2个中取1个</span></span><br><span class="line"><span class="comment"># array([11,  3, 29, 29,  0])</span></span><br><span class="line"></span><br><span class="line">a[<span class="number">2</span>::-<span class="number">3</span>] <span class="comment"># 从索引2开始，从后往前倒着取，10，0，17，每3个取1个，10</span></span><br><span class="line"><span class="comment"># array([10])</span></span><br><span class="line"></span><br><span class="line">b = np.random.randint(<span class="number">0</span>,<span class="number">30</span>,size=(<span class="number">10</span>,<span class="number">10</span>))</span><br><span class="line">b <span class="comment"># 二维数组，多维数组索引和切片的规律与一维数组一样</span></span><br><span class="line"><span class="comment"># array([[ 8, 28, 17, 14, 17,  2, 19, 24,  6, 24],</span></span><br><span class="line">       [ <span class="number">6</span>,  <span class="number">2</span>,  <span class="number">4</span>,  <span class="number">5</span>, <span class="number">26</span>, <span class="number">25</span>, <span class="number">29</span>,  <span class="number">6</span>, <span class="number">16</span>, <span class="number">12</span>],</span><br><span class="line">       [ <span class="number">1</span>, <span class="number">19</span>,  <span class="number">8</span>,  <span class="number">2</span>, <span class="number">14</span>, <span class="number">10</span>, <span class="number">28</span>, <span class="number">15</span>, <span class="number">12</span>, <span class="number">29</span>],</span><br><span class="line">       [ <span class="number">2</span>, <span class="number">18</span>, <span class="number">14</span>,  <span class="number">1</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">18</span>,  <span class="number">4</span>, <span class="number">25</span>, <span class="number">18</span>],</span><br><span class="line">       [<span class="number">12</span>,  <span class="number">1</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">25</span>, <span class="number">13</span>,  <span class="number">3</span>, <span class="number">20</span>, <span class="number">24</span>, <span class="number">28</span>],</span><br><span class="line">       [<span class="number">20</span>, <span class="number">20</span>,  <span class="number">3</span>, <span class="number">26</span>, <span class="number">20</span>,  <span class="number">0</span>,  <span class="number">4</span>,  <span class="number">4</span>, <span class="number">22</span>, <span class="number">21</span>],</span><br><span class="line">       [<span class="number">11</span>, <span class="number">12</span>, <span class="number">23</span>, <span class="number">26</span>, <span class="number">23</span>, <span class="number">22</span>, <span class="number">11</span>,  <span class="number">0</span>, <span class="number">10</span>, <span class="number">16</span>],</span><br><span class="line">       [<span class="number">26</span>,  <span class="number">7</span>,  <span class="number">2</span>, <span class="number">14</span>, <span class="number">19</span>,  <span class="number">6</span>, <span class="number">23</span>,  <span class="number">1</span>, <span class="number">18</span>, <span class="number">15</span>],</span><br><span class="line">       [<span class="number">22</span>, <span class="number">19</span>,  <span class="number">0</span>,  <span class="number">3</span>, <span class="number">15</span>,  <span class="number">2</span>, <span class="number">20</span>,  <span class="number">9</span>, <span class="number">10</span>, <span class="number">21</span>],</span><br><span class="line">       [<span class="number">24</span>,  <span class="number">1</span>, <span class="number">25</span>, <span class="number">21</span>, <span class="number">21</span>,  <span class="number">6</span>,  <span class="number">8</span>, <span class="number">26</span>,  <span class="number">3</span>, <span class="number">15</span>]])</span><br><span class="line"></span><br><span class="line">b[<span class="number">1</span>] <span class="comment"># 第2行数据</span></span><br><span class="line"><span class="comment"># array([ 6,  2,  4,  5, 26, 25, 29,  6, 16, 12])</span></span><br><span class="line"></span><br><span class="line">b[[<span class="number">0</span>,<span class="number">3</span>,<span class="number">5</span>]] <span class="comment"># 第1，4，6行数据</span></span><br><span class="line"><span class="comment"># array([[ 8, 28, 17, 14, 17,  2, 19, 24,  6, 24],</span></span><br><span class="line">       [ <span class="number">2</span>, <span class="number">18</span>, <span class="number">14</span>,  <span class="number">1</span>, <span class="number">18</span>, <span class="number">19</span>, <span class="number">18</span>,  <span class="number">4</span>, <span class="number">25</span>, <span class="number">18</span>],</span><br><span class="line">       [<span class="number">20</span>, <span class="number">20</span>,  <span class="number">3</span>, <span class="number">26</span>, <span class="number">20</span>,  <span class="number">0</span>,  <span class="number">4</span>,  <span class="number">4</span>, <span class="number">22</span>, <span class="number">21</span>]])</span><br><span class="line"></span><br><span class="line">b[<span class="number">1</span>,<span class="number">1</span>] <span class="comment"># 第2行2列数据</span></span><br><span class="line"><span class="comment"># 2</span></span><br><span class="line"></span><br><span class="line">b[<span class="number">1</span>,[<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>]] <span class="comment"># 第2行2,4,6列数据</span></span><br><span class="line"><span class="comment"># array([ 2,  5, 25])</span></span><br><span class="line"></span><br><span class="line">b[<span class="number">2</span>:<span class="number">7</span>,<span class="number">1</span>::<span class="number">3</span>] <span class="comment"># 行：3～6，列：第2列开始到结尾，每3个取一个</span></span><br><span class="line"><span class="comment"># array([[19, 14, 15],</span></span><br><span class="line">       [<span class="number">18</span>, <span class="number">18</span>,  <span class="number">4</span>],</span><br><span class="line">       [ <span class="number">1</span>, <span class="number">25</span>, <span class="number">20</span>],</span><br><span class="line">       [<span class="number">20</span>, <span class="number">20</span>,  <span class="number">4</span>],</span><br><span class="line">       [<span class="number">12</span>, <span class="number">23</span>,  <span class="number">0</span>]])</span><br><span class="line"></span><br><span class="line">b[-<span class="number">1</span>,-<span class="number">1</span>] <span class="comment"># 最后一行，最后一列</span></span><br><span class="line"><span class="number">15</span></span><br></pre></td></tr></table></figure>

<h2 id="花式索引和索引技巧"><a href="#花式索引和索引技巧" class="headerlink" title="花式索引和索引技巧"></a>花式索引和索引技巧</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">a = np.arange(<span class="number">20</span>)</span><br><span class="line">a</span><br><span class="line"><span class="comment"># array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,</span></span><br><span class="line">       <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>])</span><br><span class="line">  </span><br><span class="line">b = a[<span class="number">3</span>:<span class="number">7</span>] <span class="comment"># 切片时，返回的数据，不是深拷贝</span></span><br><span class="line">b</span><br><span class="line"><span class="comment"># array([3, 4, 5, 6])</span></span><br><span class="line">b[<span class="number">0</span>] = <span class="number">1024</span></span><br><span class="line">display(a,b)</span><br><span class="line"><span class="comment">#array([   0,    1,    2, 1024,    4,    5,    6,    7,    8,    9,   10,</span></span><br><span class="line">         <span class="number">11</span>,   <span class="number">12</span>,   <span class="number">13</span>,   <span class="number">14</span>,   <span class="number">15</span>,   <span class="number">16</span>,   <span class="number">17</span>,   <span class="number">18</span>,   <span class="number">19</span>])</span><br><span class="line"><span class="comment">#array([1024,    4,    5,    6])</span></span><br><span class="line"></span><br><span class="line">a = np.arange(<span class="number">20</span>)</span><br><span class="line"><span class="comment"># 花式索引，返回的是，深拷贝的数据</span></span><br><span class="line">b = a[[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]] <span class="comment"># 花式索引：就是在索引时，给了一个数组</span></span><br><span class="line">display(a,b)</span><br><span class="line"><span class="comment"># array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,</span></span><br><span class="line">       <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>])</span><br><span class="line"><span class="comment"># array([3, 4, 5, 6])</span></span><br><span class="line">b[<span class="number">0</span>] = <span class="number">1024</span></span><br><span class="line">display(a,b)</span><br><span class="line"><span class="comment"># array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,</span></span><br><span class="line">       <span class="number">17</span>, <span class="number">18</span>, <span class="number">19</span>])</span><br><span class="line"><span class="comment"># array([1024,    4,    5,    6])</span></span><br><span class="line"></span><br><span class="line">a = np.random.randint(<span class="number">0</span>,<span class="number">151</span>,size=(<span class="number">10</span>,<span class="number">3</span>)) <span class="comment"># 10名学生，参加3门考试：python，math，english</span></span><br><span class="line">a</span><br><span class="line"><span class="comment"># array([[136, 103, 144],</span></span><br><span class="line">       [<span class="number">127</span>,  <span class="number">37</span>,  <span class="number">10</span>],</span><br><span class="line">       [ <span class="number">57</span>,  <span class="number">11</span>,  <span class="number">53</span>],</span><br><span class="line">       [ <span class="number">96</span>, <span class="number">142</span>,  <span class="number">10</span>],</span><br><span class="line">       [<span class="number">103</span>,  <span class="number">10</span>,   <span class="number">7</span>],</span><br><span class="line">       [  <span class="number">4</span>,  <span class="number">17</span>,  <span class="number">59</span>],</span><br><span class="line">       [ <span class="number">24</span>,  <span class="number">67</span>,  <span class="number">89</span>],</span><br><span class="line">       [ <span class="number">85</span>,  <span class="number">81</span>,  <span class="number">68</span>],</span><br><span class="line">       [ <span class="number">74</span>,  <span class="number">22</span>, <span class="number">140</span>],</span><br><span class="line">       [ <span class="number">25</span>, <span class="number">121</span>,  <span class="number">41</span>]])</span><br><span class="line">      </span><br><span class="line"><span class="comment"># 选出大于等于100分的数据</span></span><br><span class="line">a &gt;= <span class="number">100</span> <span class="comment"># 逻辑运算，每一行每一列都进行逻辑判断</span></span><br><span class="line"><span class="comment"># array([[ True,  True,  True],</span></span><br><span class="line">       [ <span class="literal">True</span>, <span class="literal">False</span>, <span class="literal">False</span>],</span><br><span class="line">       [<span class="literal">False</span>, <span class="literal">False</span>, <span class="literal">False</span>],</span><br><span class="line">       [<span class="literal">False</span>,  <span class="literal">True</span>, <span class="literal">False</span>],</span><br><span class="line">       [ <span class="literal">True</span>, <span class="literal">False</span>, <span class="literal">False</span>],</span><br><span class="line">       [<span class="literal">False</span>, <span class="literal">False</span>, <span class="literal">False</span>],</span><br><span class="line">       [<span class="literal">False</span>, <span class="literal">False</span>, <span class="literal">False</span>],</span><br><span class="line">       [<span class="literal">False</span>, <span class="literal">False</span>, <span class="literal">False</span>],</span><br><span class="line">       [<span class="literal">False</span>, <span class="literal">False</span>,  <span class="literal">True</span>],</span><br><span class="line">       [<span class="literal">False</span>,  <span class="literal">True</span>, <span class="literal">False</span>]])</span><br><span class="line">cond = a &gt;= <span class="number">100</span></span><br><span class="line"><span class="comment"># 根据条件，筛选数据，只要大于等于100分，就返回该数据</span></span><br><span class="line">a[cond]</span><br><span class="line"><span class="comment"># array([136, 103, 144, 127, 142, 103, 140, 121])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 现在想选出，三门考试成绩都大于等于100分的成绩数据</span></span><br><span class="line"><span class="comment"># boolean True=1;False=0</span></span><br><span class="line"><span class="comment"># 三门科目的条件相乘，有一门是False结果就是0，三门都是True结果是1</span></span><br><span class="line">cond2 = cond[:,<span class="number">0</span>]*cond[:,<span class="number">1</span>]*cond[:,<span class="number">2</span>] <span class="comment"># 数组的*运算：每行第1列*每行第2列*每行第3列</span></span><br><span class="line">cond2</span><br><span class="line"><span class="comment"># array([ True, False, False, False, False, False, False, False, False,</span></span><br><span class="line">       <span class="literal">False</span>])</span><br><span class="line">a[cond2]</span><br><span class="line"><span class="comment"># array([[136, 103, 144]])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 选出三门考试平均成绩大于90的学生成绩数据</span></span><br><span class="line"><span class="comment"># mean()方法求平均值，axis参数：</span></span><br><span class="line"><span class="comment"># 不设置，求m*n个数的均值，返回一个实数</span></span><br><span class="line"><span class="comment"># axis=0，对各列求均值，返回1*n矩阵</span></span><br><span class="line"><span class="comment"># axis=1，对各行求均值，返回m*1矩阵</span></span><br><span class="line">a.mean(axis=<span class="number">1</span>) </span><br><span class="line"><span class="comment"># array([127.66666667,  58.        ,  40.33333333,  82.66666667,</span></span><br><span class="line">        <span class="number">40.</span>        ,  <span class="number">26.66666667</span>,  <span class="number">60.</span>        ,  <span class="number">78.</span>        ,</span><br><span class="line">        <span class="number">78.66666667</span>,  <span class="number">62.33333333</span>])</span><br><span class="line"></span><br><span class="line">a.mean(axis=<span class="number">1</span>) &gt; <span class="number">90</span></span><br><span class="line"><span class="comment"># array([ True, False, False, False, False, False, False, False, False,</span></span><br><span class="line">       <span class="literal">False</span>])</span><br><span class="line"></span><br><span class="line">cond3 = a.mean(axis=<span class="number">1</span>) &gt; <span class="number">90</span></span><br><span class="line">a[cond3]</span><br><span class="line"><span class="comment"># array([[136, 103, 144]])</span></span><br></pre></td></tr></table></figure>

<h1 id="Numpy形状操作"><a href="#Numpy形状操作" class="headerlink" title="Numpy形状操作"></a>Numpy形状操作</h1><h2 id="数组变形"><a href="#数组变形" class="headerlink" title="数组变形"></a>数组变形</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">a = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,size=(<span class="number">3</span>,<span class="number">5</span>))</span><br><span class="line">a</span><br><span class="line"><span class="comment"># array([[9, 3, 3, 7, 2],</span></span><br><span class="line">       [<span class="number">4</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">3</span>]])</span><br><span class="line">    </span><br><span class="line">a.reshape(<span class="number">5</span>,<span class="number">3</span>)</span><br><span class="line"><span class="comment"># array([[9, 3, 3],</span></span><br><span class="line">       [<span class="number">7</span>, <span class="number">2</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">9</span>, <span class="number">2</span>, <span class="number">8</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">0</span>, <span class="number">7</span>],</span><br><span class="line">       [<span class="number">9</span>, <span class="number">6</span>, <span class="number">3</span>]])</span><br><span class="line"></span><br><span class="line">a.reshape(<span class="number">1</span>,<span class="number">15</span>)</span><br><span class="line"><span class="comment"># array([[9, 3, 3, 7, 2, 4, 9, 2, 8, 2, 0, 7, 9, 6, 3]])</span></span><br><span class="line"></span><br><span class="line">a.reshape(<span class="number">2</span>,<span class="number">15</span>) <span class="comment"># 变形的size必需和原来一致</span></span><br><span class="line">---------------------------------------------------------------------------</span><br><span class="line">ValueError                                Traceback (most recent call last)</span><br><span class="line">&lt;ipython-<span class="built_in">input</span>-<span class="number">148</span>-cfa7d02313ac&gt; <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">----&gt; 1 a.reshape(2,15)</span><br><span class="line"></span><br><span class="line">ValueError: cannot reshape array of size <span class="number">15</span> into shape (<span class="number">2</span>,<span class="number">15</span>)</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">a.reshape(<span class="number">1</span>,<span class="number">1</span>,<span class="number">15</span>) <span class="comment"># 还可以转成三维数组</span></span><br><span class="line"><span class="comment"># array([[[9, 3, 3, 7, 2, 4, 9, 2, 8, 2, 0, 7, 9, 6, 3]]])</span></span><br><span class="line"></span><br><span class="line">a.reshape(-<span class="number">1</span>,<span class="number">3</span>) <span class="comment"># 自动整形：-1表示数据，3自动计算-1 = 5</span></span><br><span class="line"><span class="comment"># array([[9, 3, 3],</span></span><br><span class="line">       [<span class="number">7</span>, <span class="number">2</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">9</span>, <span class="number">2</span>, <span class="number">8</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">0</span>, <span class="number">7</span>],</span><br><span class="line">       [<span class="number">9</span>, <span class="number">6</span>, <span class="number">3</span>]])</span><br></pre></td></tr></table></figure>

<h2 id="数组转置"><a href="#数组转置" class="headerlink" title="数组转置"></a>数组转置</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">a</span><br><span class="line"><span class="comment"># array([[9, 3, 3, 7, 2],</span></span><br><span class="line">       [<span class="number">4</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">8</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">3</span>]])</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 转置，行变列，列变行</span></span><br><span class="line">a.T <span class="comment"># 3行5列 变 5行3列，和reshape(5,3)的区别，reshape只是改变形状，并没有行列互换</span></span><br><span class="line"><span class="comment"># array([[9, 4, 0],</span></span><br><span class="line">       [<span class="number">3</span>, <span class="number">9</span>, <span class="number">7</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">2</span>, <span class="number">9</span>],</span><br><span class="line">       [<span class="number">7</span>, <span class="number">8</span>, <span class="number">6</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>]])</span><br><span class="line">        </span><br><span class="line">np.transpose(a,(<span class="number">1</span>,<span class="number">0</span>)) <span class="comment"># 行0，列1。默认情况下是(0,1)-----&gt;调整(1,0)</span></span><br><span class="line"><span class="comment"># array([[9, 4, 0],</span></span><br><span class="line">       [<span class="number">3</span>, <span class="number">9</span>, <span class="number">7</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">2</span>, <span class="number">9</span>],</span><br><span class="line">       [<span class="number">7</span>, <span class="number">8</span>, <span class="number">6</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>]])</span><br><span class="line"></span><br><span class="line">b = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,size=(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)) <span class="comment"># 三维数组，1行 2行 3列，维度对应0，1，2</span></span><br><span class="line">b</span><br><span class="line"><span class="comment"># array([[[1, 8, 6],</span></span><br><span class="line">        [<span class="number">4</span>, <span class="number">2</span>, <span class="number">1</span>]]])</span><br><span class="line"></span><br><span class="line">np.transpose(b,(<span class="number">2</span>,<span class="number">1</span>,<span class="number">0</span>)) <span class="comment"># 转置后，3行 2行 1列</span></span><br><span class="line"><span class="comment"># array([[[1],</span></span><br><span class="line">        [<span class="number">4</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">8</span>],</span><br><span class="line">        [<span class="number">2</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">6</span>],</span><br><span class="line">        [<span class="number">1</span>]]])</span><br></pre></td></tr></table></figure>

<h2 id="数组堆叠合并"><a href="#数组堆叠合并" class="headerlink" title="数组堆叠合并"></a>数组堆叠合并</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># shape一致才能合并</span></span><br><span class="line">nd1 = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,size=(<span class="number">3</span>,<span class="number">5</span>))</span><br><span class="line">nd2 = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,size=(<span class="number">3</span>,<span class="number">5</span>))</span><br><span class="line">display(nd1,nd2)</span><br><span class="line"><span class="comment"># array([[9, 8, 8, 3, 0],</span></span><br><span class="line">       [<span class="number">2</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">6</span>, <span class="number">7</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">5</span>]])</span><br><span class="line"><span class="comment"># array([[7, 3, 8, 9, 1],</span></span><br><span class="line">       [<span class="number">3</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">9</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">3</span>]])</span><br><span class="line"></span><br><span class="line">np.concatenate([nd1,nd2]) <span class="comment"># 默认axis=0,行方向合并，行增加</span></span><br><span class="line"><span class="comment"># array([[9, 8, 8, 3, 0],</span></span><br><span class="line">       [<span class="number">2</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">6</span>, <span class="number">7</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">7</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">9</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">3</span>]])</span><br><span class="line">      </span><br><span class="line"><span class="comment"># 修改axis参数调整数据合并方向</span></span><br><span class="line">np.concatenate([nd1,nd2],axis=<span class="number">1</span>) <span class="comment"># 列增加 axis 轴，0 = 行，1 = 列</span></span><br><span class="line"><span class="comment"># array([[9, 8, 8, 3, 0, 7, 3, 8, 9, 1],</span></span><br><span class="line">       [<span class="number">2</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">9</span>],</span><br><span class="line">       [<span class="number">6</span>, <span class="number">7</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">3</span>]])</span><br><span class="line"></span><br><span class="line">np.hstack((nd1,nd2)) <span class="comment"># 水平堆叠，合并，h表示水平，列增多</span></span><br><span class="line"><span class="comment"># array([[9, 8, 8, 3, 0, 7, 3, 8, 9, 1],</span></span><br><span class="line">       [<span class="number">2</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">9</span>],</span><br><span class="line">       [<span class="number">6</span>, <span class="number">7</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">3</span>]])</span><br><span class="line"></span><br><span class="line">np.vstack((nd1,nd2)) <span class="comment"># 垂直堆叠，合并，v表示垂直，行增多</span></span><br><span class="line"><span class="comment"># array([[9, 8, 8, 3, 0],</span></span><br><span class="line">       [<span class="number">2</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">6</span>, <span class="number">7</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">7</span>, <span class="number">3</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">9</span>, <span class="number">7</span>, <span class="number">7</span>, <span class="number">9</span>],</span><br><span class="line">       [<span class="number">0</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">3</span>]])</span><br><span class="line">      </span><br><span class="line">a = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,size=(<span class="number">3</span>,<span class="number">5</span>))</span><br><span class="line">b = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,size=(<span class="number">3</span>,<span class="number">6</span>))</span><br><span class="line">display(a,b)</span><br><span class="line">array([[<span class="number">8</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">4</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">7</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">9</span>]])</span><br><span class="line">array([[<span class="number">6</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">8</span>],</span><br><span class="line">       [<span class="number">8</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br><span class="line"></span><br><span class="line">np.concatenate([a,b]) <span class="comment"># 行合并时，列shape不一致，报错</span></span><br><span class="line">---------------------------------------------------------------------------</span><br><span class="line">ValueError                                Traceback (most recent call last)</span><br><span class="line">&lt;ipython-<span class="built_in">input</span>-<span class="number">181</span>-bdfed7e4c0c5&gt; <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">----&gt; 1 np.concatenate([a,b])...</span><br><span class="line"></span><br><span class="line">np.concatenate([a,b],axis=<span class="number">1</span>) <span class="comment"># 列合并时，行shape一致，可以合并</span></span><br><span class="line">array([[<span class="number">8</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">6</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">8</span>],</span><br><span class="line">       [<span class="number">4</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">0</span>, <span class="number">8</span>, <span class="number">7</span>, <span class="number">4</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">9</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">9</span>]])</span><br></pre></td></tr></table></figure>

<h2 id="数组拆分"><a href="#数组拆分" class="headerlink" title="数组拆分"></a>数组拆分</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">a = np.random.randint(<span class="number">0</span>,<span class="number">100</span>,size=(<span class="number">6</span>,<span class="number">4</span>))</span><br><span class="line">a</span><br><span class="line"><span class="comment"># array([[ 1, 85, 26, 20],</span></span><br><span class="line">       [<span class="number">57</span>, <span class="number">82</span>, <span class="number">21</span>, <span class="number">29</span>],</span><br><span class="line">       [<span class="number">61</span>, <span class="number">29</span>, <span class="number">67</span>, <span class="number">67</span>],</span><br><span class="line">       [<span class="number">89</span>, <span class="number">76</span>, <span class="number">60</span>, <span class="number">82</span>],</span><br><span class="line">       [<span class="number">78</span>, <span class="number">41</span>, <span class="number">70</span>, <span class="number">65</span>],</span><br><span class="line">       [<span class="number">76</span>, <span class="number">69</span>,  <span class="number">2</span>, <span class="number">88</span>]])</span><br><span class="line">      </span><br><span class="line"><span class="comment"># indices_or_sections为数值时，表示平均分成几份，不能平均分就会报错</span></span><br><span class="line"><span class="comment"># axis默认=0，默认行切割，这里原数组15行，平均分3份，可以均分。如果改成平均分2份就会报错。</span></span><br><span class="line">np.split(a,indices_or_sections=<span class="number">3</span>) </span><br><span class="line">[array([[ <span class="number">1</span>, <span class="number">85</span>, <span class="number">26</span>, <span class="number">20</span>],</span><br><span class="line">        [<span class="number">57</span>, <span class="number">82</span>, <span class="number">21</span>, <span class="number">29</span>]]),</span><br><span class="line"> array([[<span class="number">61</span>, <span class="number">29</span>, <span class="number">67</span>, <span class="number">67</span>],</span><br><span class="line">        [<span class="number">89</span>, <span class="number">76</span>, <span class="number">60</span>, <span class="number">82</span>]]),</span><br><span class="line"> array([[<span class="number">78</span>, <span class="number">41</span>, <span class="number">70</span>, <span class="number">65</span>],</span><br><span class="line">        [<span class="number">76</span>, <span class="number">69</span>,  <span class="number">2</span>, <span class="number">88</span>]])]</span><br><span class="line"></span><br><span class="line"><span class="comment"># axis=1 按列分割，原数组10列，平均分2份，可以均分。</span></span><br><span class="line">np.split(a,indices_or_sections=<span class="number">2</span>,axis=<span class="number">1</span>)</span><br><span class="line">[array([[ <span class="number">1</span>, <span class="number">85</span>],</span><br><span class="line">        [<span class="number">57</span>, <span class="number">82</span>],</span><br><span class="line">        [<span class="number">61</span>, <span class="number">29</span>],</span><br><span class="line">        [<span class="number">89</span>, <span class="number">76</span>],</span><br><span class="line">        [<span class="number">78</span>, <span class="number">41</span>],</span><br><span class="line">        [<span class="number">76</span>, <span class="number">69</span>]]),</span><br><span class="line"> array([[<span class="number">26</span>, <span class="number">20</span>],</span><br><span class="line">        [<span class="number">21</span>, <span class="number">29</span>],</span><br><span class="line">        [<span class="number">67</span>, <span class="number">67</span>],</span><br><span class="line">        [<span class="number">60</span>, <span class="number">82</span>],</span><br><span class="line">        [<span class="number">70</span>, <span class="number">65</span>],</span><br><span class="line">        [ <span class="number">2</span>, <span class="number">88</span>]])]</span><br><span class="line"></span><br><span class="line"><span class="comment"># indices_or_sections为列表时，根据索引切片分割</span></span><br><span class="line">np.split(a,indices_or_sections=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>]) <span class="comment"># 0，1-2，3-4，5-最后 左闭右开</span></span><br><span class="line">[array([[ <span class="number">1</span>, <span class="number">85</span>, <span class="number">26</span>, <span class="number">20</span>]]),</span><br><span class="line"> array([[<span class="number">57</span>, <span class="number">82</span>, <span class="number">21</span>, <span class="number">29</span>],</span><br><span class="line">        [<span class="number">61</span>, <span class="number">29</span>, <span class="number">67</span>, <span class="number">67</span>]]),</span><br><span class="line"> array([[<span class="number">89</span>, <span class="number">76</span>, <span class="number">60</span>, <span class="number">82</span>],</span><br><span class="line">        [<span class="number">78</span>, <span class="number">41</span>, <span class="number">70</span>, <span class="number">65</span>]]),</span><br><span class="line"> array([[<span class="number">76</span>, <span class="number">69</span>,  <span class="number">2</span>, <span class="number">88</span>]])]</span><br><span class="line"></span><br><span class="line">np.hsplit(a,indices_or_sections=<span class="number">2</span>) <span class="comment"># h水平，去切水平的东西，切的方向是垂直的，所以按列切</span></span><br><span class="line">[array([[ <span class="number">1</span>, <span class="number">85</span>],</span><br><span class="line">        [<span class="number">57</span>, <span class="number">82</span>],</span><br><span class="line">        [<span class="number">61</span>, <span class="number">29</span>],</span><br><span class="line">        [<span class="number">89</span>, <span class="number">76</span>],</span><br><span class="line">        [<span class="number">78</span>, <span class="number">41</span>],</span><br><span class="line">        [<span class="number">76</span>, <span class="number">69</span>]]),</span><br><span class="line"> array([[<span class="number">26</span>, <span class="number">20</span>],</span><br><span class="line">        [<span class="number">21</span>, <span class="number">29</span>],</span><br><span class="line">        [<span class="number">67</span>, <span class="number">67</span>],</span><br><span class="line">        [<span class="number">60</span>, <span class="number">82</span>],</span><br><span class="line">        [<span class="number">70</span>, <span class="number">65</span>],</span><br><span class="line">        [ <span class="number">2</span>, <span class="number">88</span>]])]</span><br><span class="line"></span><br><span class="line">np.vsplit(a,indices_or_sections=<span class="number">3</span>) <span class="comment"># v垂直，切垂直的东西，切的方向是水平的，所以按行切</span></span><br><span class="line">[array([[ <span class="number">1</span>, <span class="number">85</span>, <span class="number">26</span>, <span class="number">20</span>],</span><br><span class="line">        [<span class="number">57</span>, <span class="number">82</span>, <span class="number">21</span>, <span class="number">29</span>]]),</span><br><span class="line"> array([[<span class="number">61</span>, <span class="number">29</span>, <span class="number">67</span>, <span class="number">67</span>],</span><br><span class="line">        [<span class="number">89</span>, <span class="number">76</span>, <span class="number">60</span>, <span class="number">82</span>]]),</span><br><span class="line"> array([[<span class="number">78</span>, <span class="number">41</span>, <span class="number">70</span>, <span class="number">65</span>],</span><br><span class="line">        [<span class="number">76</span>, <span class="number">69</span>,  <span class="number">2</span>, <span class="number">88</span>]])]</span><br></pre></td></tr></table></figure>

<h1 id="Numpy广播机制"><a href="#Numpy广播机制" class="headerlink" title="Numpy广播机制"></a>Numpy广播机制</h1><p>广播需要数组形状对齐</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line">np.array([<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]*<span class="number">3</span>)</span><br><span class="line"><span class="comment"># array([0, 1, 2, 3, 0, 1, 2, 3, 0, 1, 2, 3])</span></span><br><span class="line"></span><br><span class="line">arr1 = np.array([<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]*<span class="number">3</span>).reshape(<span class="number">4</span>,<span class="number">3</span>)</span><br><span class="line">arr1</span><br><span class="line"><span class="comment">#array([[0, 1, 2],</span></span><br><span class="line">       [<span class="number">3</span>, <span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">3</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]])</span><br><span class="line">      </span><br><span class="line">arr1 = np.array([<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]*<span class="number">3</span>)</span><br><span class="line">display(arr1)</span><br><span class="line"><span class="comment">#array([0, 1, 2, 3, 0, 1, 2, 3, 0, 1, 2, 3])</span></span><br><span class="line">arr1.sort() <span class="comment"># 排序，从小到大</span></span><br><span class="line">display(arr1)</span><br><span class="line"><span class="comment">#array([0, 0, 0, 1, 1, 1, 2, 2, 2, 3, 3, 3])</span></span><br><span class="line">arr1 = arr1.reshape(<span class="number">4</span>,<span class="number">3</span>)</span><br><span class="line">display(arr1)</span><br><span class="line"><span class="comment">#array([[0, 0, 0],</span></span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>]])</span><br><span class="line">      </span><br><span class="line">arr2 = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line">display(arr1,arr2) <span class="comment"># 形状不对应，依然可以进行运算：NumPy底层，为我们进行了广播</span></span><br><span class="line"><span class="comment"># array([[0, 0, 0],</span></span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>]])</span><br><span class="line"><span class="comment"># array([1, 2, 3])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 行不够，广播行</span></span><br><span class="line">arr1 + arr2 <span class="comment"># arr2 和 arr1中每一行，进行相加：广播机制</span></span><br><span class="line"><span class="comment"># array([[1, 2, 3],</span></span><br><span class="line">       [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line"></span><br><span class="line">arr3 = np.array([[<span class="number">1</span>],[<span class="number">2</span>],[<span class="number">3</span>],[<span class="number">4</span>]])</span><br><span class="line">display(arr1,arr3)</span><br><span class="line"><span class="comment"># array([[0, 0, 0],</span></span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>]])</span><br><span class="line"><span class="comment"># array([[1],</span></span><br><span class="line">       [<span class="number">2</span>],</span><br><span class="line">       [<span class="number">3</span>],</span><br><span class="line">       [<span class="number">4</span>]])</span><br><span class="line">      </span><br><span class="line"><span class="comment"># 列不够，广播列</span></span><br><span class="line">arr1 + arr3 <span class="comment"># arr3 和 arr1中每一列，进行相加：广播</span></span><br><span class="line"><span class="comment"># array([[1, 1, 1],</span></span><br><span class="line">       [<span class="number">3</span>, <span class="number">3</span>, <span class="number">3</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">5</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">7</span>, <span class="number">7</span>, <span class="number">7</span>]])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 三维数组广播</span></span><br><span class="line">a = np.array([<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]*<span class="number">3</span>).reshape(<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>)</span><br><span class="line">a</span><br><span class="line"><span class="comment"># array([[[0, 1],</span></span><br><span class="line">        [<span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">        [<span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">        [<span class="number">6</span>, <span class="number">7</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">        [<span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">        [<span class="number">6</span>, <span class="number">7</span>]],</span><br><span class="line"></span><br><span class="line">       [[<span class="number">0</span>, <span class="number">1</span>],</span><br><span class="line">        [<span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">        [<span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">        [<span class="number">6</span>, <span class="number">7</span>]]])</span><br><span class="line"></span><br><span class="line">b = np.array([<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>]).reshape(<span class="number">4</span>,<span class="number">2</span>)</span><br><span class="line">b</span><br><span class="line"><span class="comment"># array([[0, 1],</span></span><br><span class="line">       [<span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">       [<span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">       [<span class="number">6</span>, <span class="number">7</span>]])</span><br><span class="line">      </span><br><span class="line">display(a.shape,b.shape)</span><br><span class="line"><span class="comment"># (3, 4, 2)</span></span><br><span class="line"><span class="comment"># (4, 2)</span></span><br><span class="line"></span><br><span class="line">a + b <span class="comment"># b形状（4，2），b广播了3份</span></span><br><span class="line"><span class="comment"># array([[[ 0,  2],</span></span><br><span class="line">        [ <span class="number">4</span>,  <span class="number">6</span>],</span><br><span class="line">        [ <span class="number">8</span>, <span class="number">10</span>],</span><br><span class="line">        [<span class="number">12</span>, <span class="number">14</span>]],</span><br><span class="line"></span><br><span class="line">       [[ <span class="number">0</span>,  <span class="number">2</span>],</span><br><span class="line">        [ <span class="number">4</span>,  <span class="number">6</span>],</span><br><span class="line">        [ <span class="number">8</span>, <span class="number">10</span>],</span><br><span class="line">        [<span class="number">12</span>, <span class="number">14</span>]],</span><br><span class="line"></span><br><span class="line">       [[ <span class="number">0</span>,  <span class="number">2</span>],</span><br><span class="line">        [ <span class="number">4</span>,  <span class="number">6</span>],</span><br><span class="line">        [ <span class="number">8</span>, <span class="number">10</span>],</span><br><span class="line">        [<span class="number">12</span>, <span class="number">14</span>]]])</span><br></pre></td></tr></table></figure>

<h1 id="Numpy函数"><a href="#Numpy函数" class="headerlink" title="Numpy函数"></a>Numpy函数</h1><h2 id="元素级数字函数"><a href="#元素级数字函数" class="headerlink" title="元素级数字函数"></a>元素级数字函数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># abs、sqrt、square、exp、log、sin、cos、tan，maxinmum、minimum、</span></span><br><span class="line"><span class="comment"># all、any、inner、clip、 round、trace、ceil、floor</span></span><br><span class="line"></span><br><span class="line">a = np.array([-<span class="number">1</span>,-<span class="number">3</span>,-<span class="number">5</span>,<span class="number">1</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">9</span>])</span><br><span class="line">a</span><br><span class="line"><span class="comment"># array([-1, -3, -5,  1,  5,  8,  9])</span></span><br><span class="line">np.<span class="built_in">abs</span>(a) <span class="comment"># 求绝对值</span></span><br><span class="line"><span class="comment"># array([1, 3, 5, 1, 5, 8, 9])</span></span><br><span class="line"></span><br><span class="line">b = np.array([<span class="number">1</span>,<span class="number">4</span>,<span class="number">9</span>,<span class="number">16</span>,<span class="number">25</span>,<span class="number">36</span>])</span><br><span class="line">np.sqrt(b) <span class="comment"># 求算数平方根</span></span><br><span class="line"><span class="comment"># array([1., 2., 3., 4., 5., 6.])</span></span><br><span class="line"></span><br><span class="line">np.square(b) <span class="comment"># 求平方</span></span><br><span class="line"><span class="comment"># array([   1,   16,   81,  256,  625, 1296])</span></span><br><span class="line"></span><br><span class="line">np.exp(<span class="number">2</span>) <span class="comment"># 求自然底数e的多少次幂</span></span><br><span class="line"><span class="comment"># 7.38905609893065</span></span><br><span class="line"></span><br><span class="line">np.log(<span class="number">10</span>) <span class="comment"># 求自然底数e的对数</span></span><br><span class="line"><span class="comment"># 2.302585092994046</span></span><br><span class="line"></span><br><span class="line">np.sin(np.pi/<span class="number">2</span>) <span class="comment"># 求正弦</span></span><br><span class="line"><span class="comment"># 1.0</span></span><br><span class="line"></span><br><span class="line">np.cos(np.pi/<span class="number">2</span>) <span class="comment"># 求余弦</span></span><br><span class="line"><span class="comment"># 6.123233995736766e-17</span></span><br><span class="line"></span><br><span class="line">np.tan(np.pi/<span class="number">2</span>) <span class="comment"># 求正切</span></span><br><span class="line"><span class="comment"># 1.633123935319537e+16</span></span><br><span class="line"></span><br><span class="line">c = np.random.randint(-<span class="number">10</span>,<span class="number">10</span>,size = <span class="number">7</span>)</span><br><span class="line">display(a,c)</span><br><span class="line">display(np.maximum(a,c)) <span class="comment"># 从a和c中选最大的值</span></span><br><span class="line">display(np.minimum(a,c)) <span class="comment"># 从a和c中选最小的值</span></span><br><span class="line"><span class="comment"># array([-1, -3, -5,  1,  5,  8,  9])</span></span><br><span class="line"><span class="comment"># array([-6,  8, -6, -8,  6,  7, -6])</span></span><br><span class="line"><span class="comment"># array([-1,  8, -5,  1,  6,  8,  9])</span></span><br><span class="line"><span class="comment"># array([-6, -3, -6, -8,  5,  7, -6])</span></span><br><span class="line"></span><br><span class="line">nd1 = np.array([<span class="number">1</span>,<span class="number">3</span>,<span class="number">0</span>]) <span class="comment"># 0对应False，非0对应True</span></span><br><span class="line">nd2 = np.array([-<span class="number">1</span>,-<span class="number">3</span>,<span class="number">4</span>,<span class="number">8</span>])</span><br><span class="line">display(nd1.<span class="built_in">any</span>()) <span class="comment"># 只要有一个True，返回True</span></span><br><span class="line">display(nd1.<span class="built_in">all</span>()) <span class="comment"># 全部为True，才返回True</span></span><br><span class="line">display(nd2.<span class="built_in">all</span>())</span><br><span class="line"><span class="comment"># True</span></span><br><span class="line"><span class="comment"># False</span></span><br><span class="line"><span class="comment"># True</span></span><br><span class="line"></span><br><span class="line">a = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>])</span><br><span class="line">b = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>])</span><br><span class="line">np.inner(a,b) <span class="comment"># 返回两个数组的内积，对应位置相乘，加和 1*1+2*2+3*3+4*4+5*6 = 60</span></span><br><span class="line"><span class="comment"># 60</span></span><br><span class="line"></span><br><span class="line">nd1 = np.random.randint(<span class="number">0</span>,<span class="number">100</span>,size=<span class="number">30</span>)</span><br><span class="line">nd1</span><br><span class="line"><span class="comment"># array([95, 18, 45, 77, 93, 34,  6, 28, 60,  8, 54, 39, 44, 85, 91, 19, 65,</span></span><br><span class="line">       <span class="number">76</span>, <span class="number">49</span>, <span class="number">61</span>, <span class="number">74</span>, <span class="number">90</span>, <span class="number">22</span>, <span class="number">99</span>, <span class="number">73</span>, <span class="number">70</span>, <span class="number">34</span>, <span class="number">87</span>, <span class="number">96</span>,  <span class="number">2</span>])</span><br><span class="line">np.clip(nd1,<span class="number">10</span>,<span class="number">80</span>) <span class="comment"># 数据裁剪，将小于10的变成10，大于80的变成80</span></span><br><span class="line"><span class="comment"># array([80, 18, 45, 77, 80, 34, 10, 28, 60, 10, 54, 39, 44, 80, 80, 19, 65,</span></span><br><span class="line">       <span class="number">76</span>, <span class="number">49</span>, <span class="number">61</span>, <span class="number">74</span>, <span class="number">80</span>, <span class="number">22</span>, <span class="number">80</span>, <span class="number">73</span>, <span class="number">70</span>, <span class="number">34</span>, <span class="number">80</span>, <span class="number">80</span>, <span class="number">10</span>])</span><br><span class="line"></span><br><span class="line">nd = np.random.randn(<span class="number">10</span>)</span><br><span class="line">nd</span><br><span class="line"><span class="comment"># array([ 1.82434494,  0.18005771, -1.276181  ,  1.79530858,  0.69927459,</span></span><br><span class="line">        <span class="number">0.98542502</span>,  <span class="number">0.42622162</span>,  <span class="number">0.75912761</span>, -<span class="number">0.5531669</span> , -<span class="number">1.8883649</span> ])</span><br><span class="line">np.<span class="built_in">round</span>(nd,<span class="number">2</span>) <span class="comment"># 保留两位小数，四舍五入</span></span><br><span class="line"><span class="comment"># array([ 1.82,  0.18, -1.28,  1.8 ,  0.7 ,  0.99,  0.43,  0.76, -0.55,</span></span><br><span class="line">       -<span class="number">1.89</span>])</span><br><span class="line"></span><br><span class="line">np.ceil([<span class="number">1.0</span>,<span class="number">1.1</span>,<span class="number">1.4</span>,<span class="number">1.5</span>,<span class="number">1.9</span>]) <span class="comment"># 天花板函数，向上取整</span></span><br><span class="line"><span class="comment"># array([1., 2., 2., 2., 2.])</span></span><br><span class="line">np.floor([<span class="number">1.9</span>,<span class="number">1.5</span>,<span class="number">1.4</span>,<span class="number">1.1</span>,<span class="number">1.0</span>]) <span class="comment"># 地板函数，向下取整</span></span><br><span class="line"><span class="comment"># array([1., 1., 1., 1., 1.])</span></span><br><span class="line"></span><br><span class="line">nd = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,size=(<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line">nd</span><br><span class="line"><span class="comment"># array([[9, 8, 7],</span></span><br><span class="line">       [<span class="number">9</span>, <span class="number">4</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">9</span>, <span class="number">5</span>, <span class="number">5</span>]])</span><br><span class="line">np.trace(nd) <span class="comment"># 计算对角线上的和,9+4+5</span></span><br><span class="line"><span class="comment"># 18</span></span><br><span class="line"></span><br><span class="line">np.unique(nd) <span class="comment"># 去重</span></span><br></pre></td></tr></table></figure>

<h2 id="where函数"><a href="#where函数" class="headerlink" title="where函数"></a>where函数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">nd1 = np.array([<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>])</span><br><span class="line">nd2 = np.array([<span class="number">2</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">10</span>])</span><br><span class="line">cond = np.array([<span class="literal">True</span>,<span class="literal">False</span>,<span class="literal">False</span>,<span class="literal">True</span>,<span class="literal">True</span>])</span><br><span class="line"></span><br><span class="line">np.where(cond,nd1,nd2) <span class="comment"># 条件为True，返回nd1中的值，False返回nd2中的值</span></span><br><span class="line"><span class="comment"># array([1, 4, 6, 7, 9])</span></span><br><span class="line"></span><br><span class="line">a = np.random.randint(<span class="number">0</span>,<span class="number">100</span>,size=<span class="number">10</span>)</span><br><span class="line">display(a)</span><br><span class="line">np.where(a &gt; <span class="number">50</span>,a,-<span class="number">100</span>) <span class="comment"># 数据&gt;50，返回数据，否则返回-100</span></span><br><span class="line"><span class="comment"># array([33, 37, 80,  4, 46,  7, 37, 58, 77, 87])</span></span><br><span class="line"><span class="comment"># array([-100, -100,   80, -100, -100, -100, -100,   58,   77,   87])</span></span><br></pre></td></tr></table></figure>

<h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">a = np.random.randint(<span class="number">0</span>,<span class="number">100</span>,size=<span class="number">10</span>)</span><br><span class="line">a</span><br><span class="line"><span class="comment"># array([56,  8, 47, 17, 73, 97, 68, 59, 45, 53])</span></span><br><span class="line"></span><br><span class="line">display(np.sort(a)) <span class="comment"># 返回从小打到大排序后的数组，不改变原数组</span></span><br><span class="line">display(a) <span class="comment"># 原数组没变</span></span><br><span class="line"><span class="comment"># array([ 8, 17, 45, 47, 53, 56, 59, 68, 73, 97])</span></span><br><span class="line"><span class="comment"># array([56,  8, 47, 17, 73, 97, 68, 59, 45, 53])</span></span><br><span class="line"></span><br><span class="line">a.sort() <span class="comment"># 调用数组对象a的sort方法排序，改变原数组，原地排序</span></span><br><span class="line">a</span><br><span class="line"><span class="comment"># array([ 8, 17, 45, 47, 53, 56, 59, 68, 73, 97])</span></span><br><span class="line"></span><br><span class="line">a = np.random.randint(<span class="number">0</span>,<span class="number">100</span>,size=<span class="number">10</span>)</span><br><span class="line">display(a)</span><br><span class="line">display(a.argsort()) <span class="comment"># 返回排序的索引</span></span><br><span class="line">index = a.argsort()</span><br><span class="line">display(a[index]) <span class="comment"># 用排序的索引取出数据，实现排序</span></span><br><span class="line">display(a) <span class="comment"># 不改变原数组</span></span><br><span class="line"><span class="comment"># array([47, 21, 19, 28, 90, 62, 72, 97, 43, 50])</span></span><br><span class="line"><span class="comment"># array([2, 1, 3, 8, 0, 9, 5, 6, 4, 7])</span></span><br><span class="line"><span class="comment"># array([19, 21, 28, 43, 47, 50, 62, 72, 90, 97])</span></span><br><span class="line"><span class="comment"># array([47, 21, 19, 28, 90, 62, 72, 97, 43, 50])</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 从大到小排序，利用切片步长为负倒取的特性实现::-1</span></span><br><span class="line">display(a)</span><br><span class="line">a.sort()</span><br><span class="line">display(a)</span><br><span class="line">display(a[::-<span class="number">1</span>])</span><br><span class="line"><span class="comment"># array([47, 21, 19, 28, 90, 62, 72, 97, 43, 50])</span></span><br><span class="line"><span class="comment"># array([19, 21, 28, 43, 47, 50, 62, 72, 90, 97])</span></span><br><span class="line"><span class="comment"># array([97, 90, 72, 62, 50, 47, 43, 28, 21, 19])</span></span><br></pre></td></tr></table></figure>

<h2 id="集合操作"><a href="#集合操作" class="headerlink" title="集合操作"></a>集合操作</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">a = np.random.randint(<span class="number">0</span>,<span class="number">30</span>,size=<span class="number">15</span>)</span><br><span class="line">b = np.random.randint(<span class="number">0</span>,<span class="number">30</span>,size=<span class="number">15</span>)</span><br><span class="line">display(a,b)</span><br><span class="line"><span class="comment"># array([14,  6, 20,  0, 15, 13, 13, 10, 17,  1, 17, 17,  6, 23, 13])</span></span><br><span class="line"><span class="comment"># array([14, 12, 21, 13,  9, 18,  7,  6, 14, 20,  9, 17, 25, 24, 21])</span></span><br><span class="line"></span><br><span class="line">np.intersect1d(a,b) <span class="comment"># 交集</span></span><br><span class="line"><span class="comment"># array([ 6, 13, 14, 17, 20])</span></span><br><span class="line"></span><br><span class="line">np.union1d(a,b) <span class="comment"># 并集</span></span><br><span class="line"><span class="comment"># array([ 0,  1,  6,  7,  9, 10, 12, 13, 14, 15, 17, 18, 20, 21, 23, 24, 25])</span></span><br><span class="line"></span><br><span class="line">np.setdiff1d(a,b) <span class="comment"># 差集 a有 b没有</span></span><br><span class="line"><span class="comment"># array([ 0,  1, 10, 15, 23])</span></span><br><span class="line">np.setdiff1d(b,a) <span class="comment"># 差级 b有 a没有</span></span><br><span class="line"><span class="comment"># array([ 7,  9, 12, 18, 21, 24, 25])</span></span><br></pre></td></tr></table></figure>

<h2 id="数学和统计函数"><a href="#数学和统计函数" class="headerlink" title="数学和统计函数"></a>数学和统计函数</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># min、max、mean、median、sum、std、var、</span></span><br><span class="line"><span class="comment"># cumsum、cumprod、argmin、argmax、 argwhere、cov、corrcoef</span></span><br><span class="line"></span><br><span class="line">a = np.random.randint(<span class="number">0</span>,<span class="number">100</span>,size=(<span class="number">3</span>,<span class="number">5</span>))</span><br><span class="line">a</span><br><span class="line"><span class="comment"># array([[87, 14, 35, 24, 31],</span></span><br><span class="line">       [<span class="number">42</span>, <span class="number">62</span>, <span class="number">83</span>, <span class="number">88</span>, <span class="number">64</span>],</span><br><span class="line">       [<span class="number">61</span>, <span class="number">23</span>,  <span class="number">5</span>, <span class="number">31</span>, <span class="number">87</span>]])</span><br><span class="line"></span><br><span class="line">a.<span class="built_in">min</span>() <span class="comment"># 全部最小</span></span><br><span class="line"><span class="comment"># 5</span></span><br><span class="line"></span><br><span class="line">a.<span class="built_in">max</span>() <span class="comment"># 全部最大</span></span><br><span class="line"><span class="comment"># 88</span></span><br><span class="line"></span><br><span class="line">a.<span class="built_in">max</span>(axis=<span class="number">0</span>) <span class="comment"># 0维方向最大</span></span><br><span class="line"><span class="comment"># array([87, 62, 83, 88, 87])</span></span><br><span class="line"></span><br><span class="line">a.<span class="built_in">min</span>(axis=<span class="number">1</span>) <span class="comment"># 1维方向最小</span></span><br><span class="line"><span class="comment"># array([14, 42,  5])</span></span><br><span class="line"></span><br><span class="line">a.mean() <span class="comment"># 全部平均值</span></span><br><span class="line"><span class="comment"># 49.13333333333333</span></span><br><span class="line"></span><br><span class="line">np.median(a) <span class="comment"># 全部中位数</span></span><br><span class="line"><span class="comment"># 42.0</span></span><br><span class="line"></span><br><span class="line">a.<span class="built_in">sum</span>() <span class="comment"># 全部求和</span></span><br><span class="line"><span class="comment"># 737</span></span><br><span class="line"></span><br><span class="line">a.std() <span class="comment"># 标准差</span></span><br><span class="line"><span class="comment"># 27.63781628292816</span></span><br><span class="line"></span><br><span class="line">a.var() <span class="comment"># 方差，数据内部波动情况</span></span><br><span class="line"><span class="comment"># 763.848888888889</span></span><br><span class="line"></span><br><span class="line">a.cumsum() <span class="comment"># 累加和</span></span><br><span class="line"><span class="comment"># array([ 87, 101, 136, 160, 191, 233, 295, 378, 466, 530, 591, 614, 619,</span></span><br><span class="line">       <span class="number">650</span>, <span class="number">737</span>])</span><br><span class="line"></span><br><span class="line">b = np.array([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>])</span><br><span class="line">b.cumprod() <span class="comment"># 累乘和</span></span><br><span class="line"><span class="comment"># array([  1,   2,   6,  24, 120, 720])</span></span><br><span class="line"></span><br><span class="line">a.argmin() <span class="comment"># 最小值索引</span></span><br><span class="line"><span class="comment"># 12</span></span><br><span class="line"></span><br><span class="line">a.argmax() <span class="comment"># 最大值索引</span></span><br><span class="line"><span class="comment"># 8</span></span><br><span class="line"></span><br><span class="line">np.argwhere(a&gt;<span class="number">50</span>) <span class="comment"># 返回满足条件的数据索引，表示第几行第几列</span></span><br><span class="line"><span class="comment"># array([[0, 0],</span></span><br><span class="line">       [<span class="number">1</span>, <span class="number">1</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">3</span>],</span><br><span class="line">       [<span class="number">1</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">0</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">4</span>]])</span><br><span class="line"><span class="keyword">for</span> row,col <span class="keyword">in</span> np.argwhere(a&gt;<span class="number">50</span>):</span><br><span class="line">    <span class="built_in">print</span>(a[row,col])</span><br><span class="line"><span class="number">87</span></span><br><span class="line"><span class="number">62</span></span><br><span class="line"><span class="number">83</span></span><br><span class="line"><span class="number">88</span></span><br><span class="line"><span class="number">64</span></span><br><span class="line"><span class="number">61</span></span><br><span class="line"><span class="number">87</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># cov 协方差，两个属性之间进行计算。与方差概念类似（方差是数据内部或属性内部进行计算）</span></span><br><span class="line"><span class="comment"># 例如：一个男生受女生欢迎程度，和这名男生的猥琐程度，是否成正比，是什么关系，这就是两个属性间的计算，就是协方差</span></span><br><span class="line">np.cov(a)</span><br><span class="line"><span class="comment"># array([[ 807.7, -356.7,  334.4],</span></span><br><span class="line">       [-<span class="number">356.7</span>,  <span class="number">338.2</span>, -<span class="number">333.9</span>],</span><br><span class="line">       [ <span class="number">334.4</span>, -<span class="number">333.9</span>, <span class="number">1058.8</span>]])</span><br><span class="line"></span><br><span class="line">np.corrcoef(a) <span class="comment"># 相关性系数，范围：1（正相关） ～ -1（负相关），0表示没有关系</span></span><br><span class="line"><span class="comment"># array([[ 1.        , -0.6824821 ,  0.36160486],</span></span><br><span class="line">       [-<span class="number">0.6824821</span> ,  <span class="number">1.</span>        , -<span class="number">0.55798516</span>],</span><br><span class="line">       [ <span class="number">0.36160486</span>, -<span class="number">0.55798516</span>,  <span class="number">1.</span>        ]])</span><br></pre></td></tr></table></figure>

<h1 id="Numpy线性代数"><a href="#Numpy线性代数" class="headerlink" title="Numpy线性代数"></a>Numpy线性代数</h1><h2 id="矩阵相乘"><a href="#矩阵相乘" class="headerlink" title="矩阵相乘"></a>矩阵相乘</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">a = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,size=(<span class="number">3</span>,<span class="number">3</span>))</span><br><span class="line">b = np.random.randint(<span class="number">0</span>,<span class="number">10</span>,size=(<span class="number">3</span>,<span class="number">4</span>))</span><br><span class="line">display(a,b)</span><br><span class="line"><span class="comment"># array([[8, 5, 2],</span></span><br><span class="line">       [<span class="number">1</span>, <span class="number">5</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">5</span>, <span class="number">5</span>, <span class="number">3</span>]])</span><br><span class="line"><span class="comment"># array([[0, 6, 7, 7],</span></span><br><span class="line">       [<span class="number">8</span>, <span class="number">0</span>, <span class="number">2</span>, <span class="number">9</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">1</span>]])</span><br><span class="line">    </span><br><span class="line">a.dot(b) <span class="comment"># 矩阵乘法，行列相乘，矩阵a的行长度，和矩阵b的列长度，必须相等</span></span><br><span class="line"><span class="comment"># array([[ 46,  66,  84, 103],</span></span><br><span class="line">       [ <span class="number">52</span>,  <span class="number">42</span>,  <span class="number">53</span>,  <span class="number">56</span>],</span><br><span class="line">       [ <span class="number">49</span>,  <span class="number">57</span>,  <span class="number">72</span>,  <span class="number">83</span>]])</span><br><span class="line">    </span><br><span class="line">np.dot(a,b) <span class="comment"># 模块提供的方法</span></span><br><span class="line"><span class="comment"># array([[ 46,  66,  84, 103],</span></span><br><span class="line">       [ <span class="number">52</span>,  <span class="number">42</span>,  <span class="number">53</span>,  <span class="number">56</span>],</span><br><span class="line">       [ <span class="number">49</span>,  <span class="number">57</span>,  <span class="number">72</span>,  <span class="number">83</span>]])</span><br><span class="line"></span><br><span class="line">a @ b <span class="comment"># 也表示矩阵运算</span></span><br><span class="line"><span class="comment"># array([[ 46,  66,  84, 103],</span></span><br><span class="line">       [ <span class="number">52</span>,  <span class="number">42</span>,  <span class="number">53</span>,  <span class="number">56</span>],</span><br><span class="line">       [ <span class="number">49</span>,  <span class="number">57</span>,  <span class="number">72</span>,  <span class="number">83</span>]])</span><br></pre></td></tr></table></figure>

<h1 id="axis的理解"><a href="#axis的理解" class="headerlink" title="axis的理解"></a>axis的理解</h1><p>————————————————<br>版权声明：本文为CSDN博主「Idear_to_dream」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/dream_to_dream/article/details/105121844https://blog.csdn.net/dream_to_dream/article/details/105121844?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_title-0&amp;spm=1001.2101.3001.4242">https://blog.csdn.net/dream_to_dream/article/details/105121844https://blog.csdn.net/dream_to_dream/article/details/105121844?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_title-0&amp;spm=1001.2101.3001.4242</a>)</p>
<h4 id="1-Axis就是数组层级，亦可以理解为数字的维度，设axis-i，则Numpy沿着第i个下标变化的方向进行操作"><a href="#1-Axis就是数组层级，亦可以理解为数字的维度，设axis-i，则Numpy沿着第i个下标变化的方向进行操作" class="headerlink" title="1.Axis就是数组层级，亦可以理解为数字的维度，设axis=i，则Numpy沿着第i个下标变化的方向进行操作"></a>1.Axis就是数组层级，亦可以理解为数字的维度，设axis=i，则Numpy沿着第i个下标变化的方向进行操作</h4><h4 id="Axis就是数组层级"><a href="#Axis就是数组层级" class="headerlink" title="Axis就是数组层级"></a>Axis就是数组层级</h4><p>要想理解axis，首先我们先要弄清楚“Numpy中数组的维数”和”线性代数中矩阵的维数”这两个概念以及它们之间的关系。在数学或者物理的概念中，dimensions被认为是在空间中表示一个点所需要的最少坐标个数，但是在Numpy中，dimensions指代的是数组的维数。比如下面这个例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">9</span>]])</span><br><span class="line">a</span><br><span class="line">array([[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">       [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">       [<span class="number">3</span>, <span class="number">4</span>, <span class="number">9</span>]])</span><br></pre></td></tr></table></figure>

<p>这个array的维数只有2，即axis轴有两个，分别是axis=0和axis=1。如下图所示，该二维数组的第0维(axis=0)有三个元素(左图)，即axis=0轴的长度length为3；第1维(axis=1)也有三个元素(右图)，即axis=1轴的长度length为3。正是因为axis=0、axis=1的长度都为3，矩阵横着竖着都有3个数，所以该矩阵在线性代数是3维的(rank秩为3)。</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWM0LnpoaW1nLmNvbS84MC92Mi03NmI3MjdhZWRmNzU2ZDAzYzg1NGYzYjA0NTM0NWMyM183MjB3LmpwZw?x-oss-process=image/format,png" alt="img"></p>
<p>因此，axis就是数组层级。</p>
<p>当axis=0，该轴上的元素有3个(数组的size为3)</p>
<p>a[0]、a[1]、a[2]</p>
<p>当axis=1，该轴上的元素有3个(数组的size为3)</p>
<p>a[0][0]、a[0][1]、a[0][2]</p>
<p>（或者a[1][0]、a[1][1]、a[1][2]）</p>
<p>（或者a[2][0]、a[2][1]、a[2][2]）</p>
<p>再比如下面shape为(3,2,4)的array：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">b = np.array([[[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],[<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]],[[<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>,<span class="number">5</span>],[<span class="number">8</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">5</span>]],[[<span class="number">2</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">3</span>],[<span class="number">1</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">7</span>]]])</span><br><span class="line">b</span><br><span class="line">array([[[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">				[<span class="number">1</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]],</span><br><span class="line">       </span><br><span class="line">        [[<span class="number">2</span>, <span class="number">4</span>, <span class="number">7</span>, <span class="number">5</span>],</span><br><span class="line">         [<span class="number">8</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">5</span>]],</span><br><span class="line"> </span><br><span class="line">        [[<span class="number">2</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">3</span>],</span><br><span class="line">         [<span class="number">1</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">7</span>]]])</span><br><span class="line"></span><br><span class="line">b.shape</span><br><span class="line">(<span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>)</span><br></pre></td></tr></table></figure>
<p>这个shape（用tuple表示）可以理解为在每个轴（axis）上的size，也即占有的长度（length)。为了更进一步理解，我们可以暂时把多个axes想象成多层layers。axis=0表示第一层(下图黑色框框)，该层数组的size为3，对应轴上的元素length = 3；axis=1表示第二层(下图红色框框)，该层数组的size为2，对应轴上的元素length = 2；axis=2表示第三层(下图蓝色框框)，对应轴上的元素length = 4。</p>
<p> <img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMzLnpoaW1nLmNvbS84MC92Mi01YzhhYWQ0MGY3NGEzYWRlZTcyZjhmN2ZiNWJlODlhNl83MjB3LmpwZw?x-oss-process=image/format,png" alt="img"></p>
<h4 id="设axis-i，则Numpy沿着第i个下标变化的方向进行操作"><a href="#设axis-i，则Numpy沿着第i个下标变化的方向进行操作" class="headerlink" title="设axis=i，则Numpy沿着第i个下标变化的方向进行操作"></a>设axis=i，则Numpy沿着第i个下标变化的方向进行操作</h4><p>1.二维数组示例：</p>
<p>比如np.sum(a, axis=1)，结合下面的数组， a[0][0]=1、a[0][1]=2、a[0][2]=3 ，下标会发生变化的方向是数组的第一维。</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMzLnpoaW1nLmNvbS84MC92Mi03YTA3MTYyMzBhNmYzZDQ4NDBhNjA5ODAwMWIxZDJhMl83MjB3LmpwZw?x-oss-process=image/format,png" alt="img"></p>
<p>我们往下标会变化的方向，把元素相加后即可得到最终结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  [<span class="number">6</span>],</span><br><span class="line">  [<span class="number">9</span>],</span><br><span class="line">  [<span class="number">16</span>]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>2.三维数组示例：</p>
<p>再举个例子，比如下边这个np.shape(a)=(3,2,4)的3维数组，该数组第0维的长度为3(黑色框框)，再深入一层，第1维的长度为2(红色框框)，再深入一层，第2维的长度为4(蓝色框框)。</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMzLnpoaW1nLmNvbS84MC92Mi0yMDM2YmVhYmMxYzdlN2Q1ZGM4NDM3YTQ3NTc2NjA1Ml83MjB3LmpwZw?x-oss-process=image/format,png" alt="img"></p>
<p>如果我们要计算np.sum(a, axis=1)，在第一个黑色框框中，</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMzLnpoaW1nLmNvbS84MC92Mi1mNzdhNDMxN2UxZmU2ZjEzOTcxOGFjYjdjODBhM2U4Nl83MjB3LmpwZw?x-oss-process=image/format,png" alt="img"></p>
<p>下标的变化方向如下所示：</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMyLnpoaW1nLmNvbS84MC92Mi00YjMwM2Q0YzM3NWVkMzVmMmUzYTMzNjI4N2IwOTgwZF83MjB3LmpwZw?x-oss-process=image/format,png" alt="img"></p>
<p>所以，我们要把上下两个红色框框相加起来</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMxLnpoaW1nLmNvbS84MC92Mi02YWIyZTAzNTFhMmE4NDIwNGJlNzlhY2ZlN2MzOTlkOF83MjB3LmpwZw?x-oss-process=image/format,png" alt="img"></p>
<p>按照同样的逻辑处理第二个和第三个黑色的框框，可以得出最终结果：</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWM0LnpoaW1nLmNvbS84MC92Mi1iZTA5NDQyYjZhZDg3Zjk2OTMyNDEyYzViOGFiNmZlM183MjB3LmpwZw?x-oss-process=image/format,png" alt="img"></p>
<p>所以，依然是我们前边总结的那一句话，设axis=i，则Numpy沿着第i个下标变化的方向进行操作。</p>
<p><img src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9waWMyLnpoaW1nLmNvbS84MC92Mi00YjMwM2Q0YzM3NWVkMzVmMmUzYTMzNjI4N2IwOTgwZF83MjB3LmpwZw?x-oss-process=image/format,png" alt="img"></p>
<p>————————————————<br>版权声明：本文为CSDN博主「Idear_to_dream」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/dream_to_dream/article/details/105121844">https://blog.csdn.net/dream_to_dream/article/details/105121844</a></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/" rel="tag"># 数据分析</a>
              <a href="/tags/python/" rel="tag"># python</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/20210621171026/" rel="prev" title="【数据分析】第五阶段：python（二）Python爬虫&自动化办公">
                  <i class="fa fa-chevron-left"></i> 【数据分析】第五阶段：python（二）Python爬虫&自动化办公
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/20210628114217/" rel="next" title="【数据分析】第五阶段：python（四）数据获取与处理分析（Pandas数据分析库）上">
                  【数据分析】第五阶段：python（四）数据获取与处理分析（Pandas数据分析库）上 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>





<script src="/js/comments.js"></script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">昱森</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
